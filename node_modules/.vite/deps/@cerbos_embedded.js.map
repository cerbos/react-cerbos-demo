{
  "version": 3,
  "sources": ["../../@cerbos/core/src/protobuf/cerbos/effect/v1/effect.ts", "../../@cerbos/core/src/protobuf/cerbos/engine/v1/engine.ts", "../../@cerbos/core/src/protobuf/cerbos/schema/v1/schema.ts", "../../@cerbos/core/lib/types/external/AddOrUpdatePoliciesRequest.js", "../../@cerbos/core/lib/types/external/AddOrUpdateSchemasRequest.js", "../../@cerbos/core/lib/types/external/AuxData.js", "../../@cerbos/core/lib/types/external/CheckResourceRequest.js", "../../@cerbos/core/lib/types/external/CheckResourcesRequest.js", "../../@cerbos/core/src/types/external/CheckResourcesResponse.ts", "../../@cerbos/core/src/types/external/Effect.ts", "../../@cerbos/core/src/types/external/CheckResourcesResult.ts", "../../@cerbos/core/lib/types/external/CheckResourcesResultMetadata.js", "../../@cerbos/core/lib/types/external/CheckResourcesResultMetadataEffect.js", "../../@cerbos/core/lib/types/external/CheckResourcesResultResource.js", "../../@cerbos/core/lib/types/external/Condition.js", "../../@cerbos/core/lib/types/external/DeleteSchemasRequest.js", "../../@cerbos/core/lib/types/external/DeleteSchemasResponse.js", "../../@cerbos/core/lib/types/external/DerivedRoleDefinition.js", "../../@cerbos/core/lib/types/external/DerivedRoles.js", "../../@cerbos/core/lib/types/external/DerivedRolesBody.js", "../../@cerbos/core/lib/types/external/DisablePoliciesRequest.js", "../../@cerbos/core/lib/types/external/DisablePoliciesResponse.js", "../../@cerbos/core/lib/types/external/EnablePoliciesRequest.js", "../../@cerbos/core/lib/types/external/EnablePoliciesResponse.js", "../../@cerbos/core/lib/types/external/ExportVariables.js", "../../@cerbos/core/lib/types/external/ExportVariablesBody.js", "../../@cerbos/core/lib/types/external/GetPoliciesRequest.js", "../../@cerbos/core/lib/types/external/GetPoliciesResponse.js", "../../@cerbos/core/lib/types/external/GetSchemasRequest.js", "../../@cerbos/core/lib/types/external/GetSchemasResponse.js", "../../@cerbos/core/lib/types/external/IsAllowedRequest.js", "../../@cerbos/core/lib/types/external/JWT.js", "../../@cerbos/core/lib/types/external/ListPoliciesRequest.js", "../../@cerbos/core/lib/types/external/ListPoliciesResponse.js", "../../@cerbos/core/lib/types/external/ListSchemasResponse.js", "../../@cerbos/core/src/types/external/Match.ts", "../../@cerbos/core/lib/types/external/MatchAll.js", "../../@cerbos/core/lib/types/external/MatchAny.js", "../../@cerbos/core/lib/types/external/MatchExpr.js", "../../@cerbos/core/lib/types/external/MatchNone.js", "../../@cerbos/core/lib/types/external/Matches.js", "../../@cerbos/core/lib/types/external/Output.js", "../../@cerbos/core/lib/types/external/OutputExpressions.js", "../../@cerbos/core/lib/types/external/OutputResult.js", "../../@cerbos/core/src/types/external/PlanExpression.ts", "../../@cerbos/core/lib/types/external/PlanExpressionOperand.js", "../../@cerbos/core/src/types/external/PlanExpressionValue.ts", "../../@cerbos/core/src/types/external/PlanExpressionVariable.ts", "../../@cerbos/core/src/types/external/PlanKind.ts", "../../@cerbos/core/lib/types/external/PlanResourcesConditionalResponse.js", "../../@cerbos/core/lib/types/external/PlanResourcesMetadata.js", "../../@cerbos/core/lib/types/external/PlanResourcesRequest.js", "../../@cerbos/core/lib/types/external/PlanResourcesResponse.js", "../../@cerbos/core/lib/types/external/PlanResourcesResponseBase.js", "../../@cerbos/core/lib/types/external/PlanResourcesUnconditionalResponse.js", "../../@cerbos/core/src/types/external/Policy.ts", "../../@cerbos/core/lib/types/external/PolicyBase.js", "../../@cerbos/core/lib/types/external/PolicyMetadata.js", "../../@cerbos/core/lib/types/external/Principal.js", "../../@cerbos/core/lib/types/external/PrincipalPolicy.js", "../../@cerbos/core/lib/types/external/PrincipalPolicyBody.js", "../../@cerbos/core/lib/types/external/PrincipalRule.js", "../../@cerbos/core/lib/types/external/PrincipalRuleAction.js", "../../@cerbos/core/lib/types/external/ReloadStoreRequest.js", "../../@cerbos/core/lib/types/external/Resource.js", "../../@cerbos/core/lib/types/external/ResourceCheck.js", "../../@cerbos/core/lib/types/external/ResourcePolicy.js", "../../@cerbos/core/lib/types/external/ResourcePolicyBody.js", "../../@cerbos/core/lib/types/external/ResourceQuery.js", "../../@cerbos/core/lib/types/external/ResourceRule.js", "../../@cerbos/core/lib/types/external/ResourceSearch.js", "../../@cerbos/core/lib/types/external/Schema.js", "../../@cerbos/core/src/types/internal.ts", "../../@cerbos/core/src/types/external/SchemaDefinition.ts", "../../@cerbos/core/lib/types/external/SchemaDefinitionInput.js", "../../@cerbos/core/lib/types/external/SchemaInput.js", "../../@cerbos/core/lib/types/external/SchemaRef.js", "../../@cerbos/core/lib/types/external/SchemaRefs.js", "../../@cerbos/core/lib/types/external/ServerInfo.js", "../../@cerbos/core/lib/types/external/ValidationError.js", "../../@cerbos/core/src/types/external/ValidationErrorSource.ts", "../../@cerbos/core/lib/types/external/ValidationFailedCallback.js", "../../@cerbos/core/lib/types/external/Value.js", "../../@cerbos/core/lib/types/external/Variables.js", "../../@cerbos/core/src/types/external/index.ts", "../../@cerbos/core/src/convert/fromProtobuf.ts", "../../uuid/dist/commonjs-browser/rng.js", "../../uuid/dist/commonjs-browser/regex.js", "../../uuid/dist/commonjs-browser/validate.js", "../../uuid/dist/commonjs-browser/stringify.js", "../../uuid/dist/commonjs-browser/v1.js", "../../uuid/dist/commonjs-browser/parse.js", "../../uuid/dist/commonjs-browser/v35.js", "../../uuid/dist/commonjs-browser/md5.js", "../../uuid/dist/commonjs-browser/v3.js", "../../uuid/dist/commonjs-browser/native.js", "../../uuid/dist/commonjs-browser/v4.js", "../../uuid/dist/commonjs-browser/sha1.js", "../../uuid/dist/commonjs-browser/v5.js", "../../uuid/dist/commonjs-browser/nil.js", "../../uuid/dist/commonjs-browser/version.js", "../../uuid/dist/commonjs-browser/index.js", "../../@cerbos/core/src/convert/toProtobuf.ts", "../../@cerbos/core/src/errors.ts", "../../@cerbos/core/src/client.ts", "../../@cerbos/core/lib/rpcs.js", "../../@cerbos/core/src/index.ts", "../../@cerbos/embedded/src/protobuf/cerbos/engine/v1/engine.ts", "../../@cerbos/embedded/src/protobuf/cerbos/request/v1/request.ts", "../../@cerbos/embedded/src/protobuf/cerbos/effect/v1/effect.ts", "../../@cerbos/embedded/src/protobuf/cerbos/schema/v1/schema.ts", "../../@cerbos/embedded/src/protobuf/cerbos/response/v1/response.ts", "../../@cerbos/embedded/src/slice.ts", "../../@cerbos/embedded/src/bundle.ts", "../../@cerbos/embedded/src/interval.ts", "../../@cerbos/embedded/src/loader.ts", "../../@cerbos/embedded/src/client.ts", "../../@cerbos/embedded/src/index.ts"],
  "sourcesContent": ["/* eslint-disable */\n\nexport const protobufPackage = \"cerbos.effect.v1\";\n\nexport enum Effect {\n  EFFECT_UNSPECIFIED = 0,\n  EFFECT_ALLOW = 1,\n  EFFECT_DENY = 2,\n  EFFECT_NO_MATCH = 3,\n}\n", "/* eslint-disable */\nimport type { Effect } from \"../../effect/v1/effect\";\nimport type { ValidationError } from \"../../schema/v1/schema\";\n\nexport const protobufPackage = \"cerbos.engine.v1\";\n\nexport interface PlanResourcesInput {\n  requestId: string;\n  action: string;\n  principal: Principal | undefined;\n  resource: PlanResourcesInput_Resource | undefined;\n  auxData: AuxData | undefined;\n  includeMeta: boolean;\n}\n\nexport interface PlanResourcesInput_Resource {\n  kind: string;\n  attr: { [key: string]: any | undefined };\n  policyVersion: string;\n  scope: string;\n}\n\nexport interface PlanResourcesInput_Resource_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface PlanResourcesFilter {\n  kind: PlanResourcesFilter_Kind;\n  condition: PlanResourcesFilter_Expression_Operand | undefined;\n}\n\nexport enum PlanResourcesFilter_Kind {\n  KIND_UNSPECIFIED = 0,\n  KIND_ALWAYS_ALLOWED = 1,\n  KIND_ALWAYS_DENIED = 2,\n  KIND_CONDITIONAL = 3,\n}\n\nexport interface PlanResourcesFilter_Expression {\n  operator: string;\n  operands: PlanResourcesFilter_Expression_Operand[];\n}\n\nexport interface PlanResourcesFilter_Expression_Operand {\n  node?:\n    | { $case: \"value\"; value: any | undefined }\n    | { $case: \"expression\"; expression: PlanResourcesFilter_Expression }\n    | { $case: \"variable\"; variable: string }\n    | undefined;\n}\n\nexport interface PlanResourcesOutput {\n  requestId: string;\n  action: string;\n  kind: string;\n  policyVersion: string;\n  scope: string;\n  filter: PlanResourcesFilter | undefined;\n  filterDebug: string;\n  validationErrors: ValidationError[];\n}\n\nexport interface CheckInput {\n  requestId: string;\n  resource: Resource | undefined;\n  principal: Principal | undefined;\n  actions: string[];\n  auxData: AuxData | undefined;\n}\n\nexport interface CheckOutput {\n  requestId: string;\n  resourceId: string;\n  actions: { [key: string]: CheckOutput_ActionEffect };\n  effectiveDerivedRoles: string[];\n  validationErrors: ValidationError[];\n  outputs: OutputEntry[];\n}\n\nexport interface CheckOutput_ActionEffect {\n  effect: Effect;\n  policy: string;\n  scope: string;\n}\n\nexport interface CheckOutput_ActionsEntry {\n  key: string;\n  value: CheckOutput_ActionEffect | undefined;\n}\n\nexport interface OutputEntry {\n  src: string;\n  val: any | undefined;\n}\n\nexport interface Resource {\n  kind: string;\n  policyVersion: string;\n  id: string;\n  attr: { [key: string]: any | undefined };\n  scope: string;\n}\n\nexport interface Resource_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface Principal {\n  id: string;\n  policyVersion: string;\n  roles: string[];\n  attr: { [key: string]: any | undefined };\n  scope: string;\n}\n\nexport interface Principal_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface AuxData {\n  jwt: { [key: string]: any | undefined };\n}\n\nexport interface AuxData_JwtEntry {\n  key: string;\n  value: any | undefined;\n}\n", "/* eslint-disable */\n\nexport const protobufPackage = \"cerbos.schema.v1\";\n\nexport interface ValidationError {\n  path: string;\n  message: string;\n  source: ValidationError_Source;\n}\n\nexport enum ValidationError_Source {\n  SOURCE_UNSPECIFIED = 0,\n  SOURCE_PRINCIPAL = 1,\n  SOURCE_RESOURCE = 2,\n}\n\nexport interface Schema {\n  id: string;\n  definition: Uint8Array;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=AddOrUpdatePoliciesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=AddOrUpdateSchemasRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=AuxData.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CheckResourceRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CheckResourcesRequest.js.map", "import type { CheckResourcesResult } from \"./CheckResourcesResult\";\nimport type { ResourceSearch } from \"./ResourceSearch\";\nimport type { ValidationError } from \"./ValidationError\";\n\n/**\n * The outcome of checking a principal's permissions on a set of resources.\n *\n * @public\n */\nexport class CheckResourcesResponse {\n  /**\n   * The identifier for tracing the request.\n   */\n  public requestId: string;\n\n  /**\n   * The outcomes of the permission checks for each resource.\n   */\n  public results: CheckResourcesResult[];\n\n  public constructor({\n    requestId,\n    results,\n  }: Pick<CheckResourcesResponse, \"requestId\" | \"results\">) {\n    this.requestId = requestId;\n    this.results = results;\n  }\n\n  /**\n   * Check if the policy decision was that all input actions should be allowed for a resource.\n   *\n   * @param resource - the resource search criteria.\n   * @returns `undefined` if the resource is not present in the results.\n   */\n  public allAllowed(resource: ResourceSearch): boolean | undefined {\n    return this.findResult(resource)?.allAllowed();\n  }\n\n  /**\n   * List the actions that should be allowed for a resource.\n   *\n   * @param resource - the resource search criteria.\n   * @returns `undefined` if the resource is not present in the results.\n   */\n  public allowedActions(resource: ResourceSearch): string[] | undefined {\n    return this.findResult(resource)?.allowedActions();\n  }\n\n  /**\n   * Check if the policy decision was that an action should be allowed for a resource.\n   *\n   * @param check - the resource search criteria and action to check.\n   * @returns `undefined` if the resource or action is not present in the results.\n   */\n  public isAllowed(check: {\n    resource: ResourceSearch;\n    action: string;\n  }): boolean | undefined {\n    return this.findResult(check.resource)?.isAllowed(check.action);\n  }\n\n  /**\n   * Find an item from {@link CheckResourcesResponse.results | results} by resource.\n   *\n   * @param resource - the resource search criteria.\n   * @returns `undefined` if the resource is not present in the results.\n   */\n  public findResult(\n    resource: ResourceSearch,\n  ): CheckResourcesResult | undefined {\n    const { kind, id, policyVersion, scope } = resource;\n\n    return this.results.find(\n      ({ resource }) =>\n        resource.kind === kind &&\n        resource.id === id &&\n        (policyVersion === undefined ||\n          resource.policyVersion === policyVersion) &&\n        (scope === undefined || resource.scope === scope),\n    );\n  }\n\n  /**\n   * Unique schema validation errors for the principal or resource attributes.\n   */\n  public get validationErrors(): ValidationError[] {\n    const unique: Record<string, ValidationError> = {};\n\n    this.results.forEach(({ validationErrors }) => {\n      validationErrors.forEach((validationError) => {\n        const { path, message, source } = validationError;\n        unique[`${path}:${message}:${source}`] = validationError;\n      });\n    });\n\n    return Object.values(unique);\n  }\n}\n", "/**\n * Outcomes of policy decisions.\n *\n * @public\n */\nexport enum Effect {\n  /**\n   * The action should be allowed.\n   */\n  ALLOW = \"EFFECT_ALLOW\",\n\n  /**\n   * The action should be denied.\n   */\n  DENY = \"EFFECT_DENY\",\n}\n", "import type { CheckResourcesResultMetadata } from \"./CheckResourcesResultMetadata\";\nimport type { CheckResourcesResultResource } from \"./CheckResourcesResultResource\";\nimport { Effect } from \"./Effect\";\nimport type { OutputResult } from \"./OutputResult\";\nimport type { ValidationError } from \"./ValidationError\";\nimport type { Value } from \"./Value\";\n\n/**\n * The outcome of checking a principal's permissions on single resource.\n *\n * @public\n */\nexport class CheckResourcesResult {\n  /**\n   * The resource that was checked.\n   */\n  public resource: CheckResourcesResultResource;\n\n  /**\n   * The policy decisions for each action.\n   */\n  public actions: Record<string, Effect | undefined>;\n\n  /**\n   * Any schema validation errors for the principal or resource attributes.\n   */\n  public validationErrors: ValidationError[];\n\n  /**\n   * Additional information about how the policy decisions were reached.\n   *\n   * @remarks\n   * `undefined` if {@link CheckResourcesRequest.includeMetadata | includeMetadata} was `false`.\n   */\n  public metadata: CheckResourcesResultMetadata | undefined;\n\n  /**\n   * User-defined outputs from policy rule evaluations.\n   *\n   * @remarks\n   * Requires the Cerbos policy decision point server to be at least v0.27.\n   */\n  public outputs: OutputResult[];\n\n  public constructor({\n    resource,\n    actions,\n    validationErrors,\n    metadata,\n    outputs,\n  }: Pick<\n    CheckResourcesResult,\n    \"resource\" | \"actions\" | \"validationErrors\" | \"metadata\" | \"outputs\"\n  >) {\n    this.resource = resource;\n    this.actions = actions;\n    this.validationErrors = validationErrors;\n    this.metadata = metadata;\n    this.outputs = outputs;\n  }\n\n  /**\n   * Check if the policy decision was that all input actions should be allowed for the resource.\n   */\n  public allAllowed(): boolean {\n    return Object.values(this.actions).every(\n      (effect) => effect === Effect.ALLOW,\n    );\n  }\n\n  /**\n   * List the actions that should be allowed for the resource.\n   */\n  public allowedActions(): string[] {\n    return Object.keys(this.actions).filter(\n      (action) => this.actions[action] === Effect.ALLOW,\n    );\n  }\n\n  /**\n   * Check if the policy decision was that a given action should be allowed for the resource.\n   *\n   * @param action - the action to check.\n   * @returns `undefined` if the action is not present in the results.\n   */\n  public isAllowed(action: string): boolean | undefined {\n    switch (this.actions[action]) {\n      case Effect.ALLOW:\n        return true;\n\n      case Effect.DENY:\n        return false;\n\n      default:\n        return undefined;\n    }\n  }\n\n  /**\n   * Find the value of the user-defined output for a particular policy rule.\n   *\n   * @param source - the identifier of the policy rule that produced the output.\n   * @returns `undefined` if the result does not include an output for the source.\n   *\n   * @remarks\n   * Requires the Cerbos policy decision point server to be at least v0.27.\n   */\n  public output(source: string): Value | undefined {\n    return this.outputs.find((output) => output.source === source)?.value;\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CheckResourcesResultMetadata.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CheckResourcesResultMetadataEffect.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CheckResourcesResultResource.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Condition.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DeleteSchemasRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DeleteSchemasResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DerivedRoleDefinition.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DerivedRoles.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DerivedRolesBody.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DisablePoliciesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DisablePoliciesResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=EnablePoliciesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=EnablePoliciesResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ExportVariables.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ExportVariablesBody.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=GetPoliciesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=GetPoliciesResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=GetSchemasRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=GetSchemasResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IsAllowedRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=JWT.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ListPoliciesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ListPoliciesResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ListSchemasResponse.js.map", "import type { MatchAll } from \"./MatchAll\";\nimport type { MatchAny } from \"./MatchAny\";\nimport type { MatchExpr } from \"./MatchExpr\";\nimport type { MatchNone } from \"./MatchNone\";\n\n/**\n * Expressions to evaluate in a condition.\n *\n * @public\n */\nexport type Match = MatchAll | MatchAny | MatchNone | MatchExpr;\n\n/**\n * Type guard to check if a {@link Match} is a {@link MatchAll}.\n *\n * @public\n */\nexport function matchIsMatchAll(match: Match): match is MatchAll {\n  return \"all\" in match;\n}\n\n/**\n * Type guard to check if a {@link Match} is a {@link MatchAny}.\n *\n * @public\n */\nexport function matchIsMatchAny(match: Match): match is MatchAny {\n  return \"any\" in match;\n}\n\n/**\n * Type guard to check if a {@link Match} is a {@link MatchNone}.\n *\n * @public\n */\nexport function matchIsMatchNone(match: Match): match is MatchNone {\n  return \"none\" in match;\n}\n\n/**\n * Type guard to check if a {@link Match} is a {@link MatchExpr}.\n *\n * @public\n */\nexport function matchIsMatchExpr(match: Match): match is MatchExpr {\n  return \"expr\" in match;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MatchAll.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MatchAny.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MatchExpr.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MatchNone.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Matches.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Output.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=OutputExpressions.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=OutputResult.js.map", "import type { PlanExpressionOperand } from \"./PlanExpressionOperand\";\n\n/**\n * An abstract syntax tree node representing an expression to evaluate.\n *\n * @public\n */\nexport class PlanExpression {\n  public constructor(\n    /**\n     * The operator to invoke.\n     */\n    public operator: string,\n\n    /**\n     * The operands on which to invoke the operator.\n     */\n    public operands: PlanExpressionOperand[],\n  ) {}\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanExpressionOperand.js.map", "import type { Value } from \"./Value\";\n\n/**\n * An abstract syntax tree node representing a constant value.\n *\n * @public\n */\nexport class PlanExpressionValue {\n  public constructor(\n    /**\n     * The constant value.\n     */\n    public value: Value,\n  ) {}\n}\n", "/**\n * An abstract syntax tree node representing a variable whose value was unknown when producing the query plan.\n *\n * @public\n */\nexport class PlanExpressionVariable {\n  public constructor(\n    /**\n     * The name of the variable.\n     */\n    public name: string,\n  ) {}\n}\n", "/**\n * Types of query plans.\n *\n * @public\n */\nexport enum PlanKind {\n  /**\n   * The specified action is always allowed for the principal on resources matching the input.\n   */\n  ALWAYS_ALLOWED = \"KIND_ALWAYS_ALLOWED\",\n\n  /**\n   * The specified action is always denied for the principal on resources matching the input.\n   */\n  ALWAYS_DENIED = \"KIND_ALWAYS_DENIED\",\n\n  /**\n   * The specified action is conditionally allowed for the principal on resources matching the input.\n   */\n  CONDITIONAL = \"KIND_CONDITIONAL\",\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesConditionalResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesMetadata.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesResponse.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesResponseBase.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PlanResourcesUnconditionalResponse.js.map", "import type { DerivedRoles } from \"./DerivedRoles\";\nimport type { ExportVariables } from \"./ExportVariables\";\nimport type { PrincipalPolicy } from \"./PrincipalPolicy\";\nimport type { ResourcePolicy } from \"./ResourcePolicy\";\n\n/**\n * A {@link https://docs.cerbos.dev/cerbos/latest/policies/ | policy} definition.\n *\n * @public\n */\nexport type Policy =\n  | DerivedRoles\n  | ExportVariables\n  | PrincipalPolicy\n  | ResourcePolicy;\n\n/**\n * Type guard to check if a {@link Policy} is a set of {@link DerivedRoles}.\n *\n * @public\n */\nexport function policyIsDerivedRoles(policy: Policy): policy is DerivedRoles {\n  return \"derivedRoles\" in policy;\n}\n\n/**\n * Type guard to check if a {@link Policy} is a set of {@link ExportVariables}.\n *\n * @public\n */\nexport function policyIsExportVariables(\n  policy: Policy,\n): policy is ExportVariables {\n  return \"exportVariables\" in policy;\n}\n\n/**\n * Type guard to check if a {@link Policy} is a {@link PrincipalPolicy}.\n *\n * @public\n */\nexport function policyIsPrincipalPolicy(\n  policy: Policy,\n): policy is PrincipalPolicy {\n  return \"principalPolicy\" in policy;\n}\n\n/**\n * Type guard to check if a {@link Policy} is a {@link ResourcePolicy}.\n *\n * @public\n */\nexport function policyIsResourcePolicy(\n  policy: Policy,\n): policy is ResourcePolicy {\n  return \"resourcePolicy\" in policy;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PolicyBase.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PolicyMetadata.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Principal.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PrincipalPolicy.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PrincipalPolicyBody.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PrincipalRule.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=PrincipalRuleAction.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ReloadStoreRequest.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Resource.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourceCheck.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourcePolicy.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourcePolicyBody.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourceQuery.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourceRule.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ResourceSearch.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Schema.js.map", "export type OmitFromEach<T, K extends string> = T extends unknown\n  ? Omit<T, K>\n  : never;\n\nexport function isObject(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n", "import { isObject } from \"../internal\";\n\nconst decoder = new TextDecoder();\n\n/**\n * Definition of a JSON schema used to validate principal or resource attributes.\n *\n * @public\n */\nexport class SchemaDefinition {\n  public constructor(\n    /**\n     * The UTF-8 bytes of the JSON-serialized schema definition.\n     */\n    public readonly bytes: Uint8Array,\n  ) {}\n\n  /**\n   * The parsed schema definition.\n   */\n  public toObject(): Record<string, unknown> {\n    const object = JSON.parse(this.toString()) as unknown;\n\n    if (!isObject(object)) {\n      throw new Error(\"Schema definition is not an object\");\n    }\n\n    return object;\n  }\n\n  /**\n   * The JSON-serialized schema definition.\n   */\n  public toString(): string {\n    return decoder.decode(this.bytes);\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=SchemaDefinitionInput.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=SchemaInput.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=SchemaRef.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=SchemaRefs.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ServerInfo.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ValidationError.js.map", "/**\n * Sources of invalid attributes.\n *\n * @public\n */\nexport enum ValidationErrorSource {\n  /**\n   * The principal's attributes failed schema validation.\n   */\n  PRINCIPAL = \"SOURCE_PRINCIPAL\",\n\n  /**\n   * The resource's attributes failed schema validation.\n   */\n  RESOURCE = \"SOURCE_RESOURCE\",\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ValidationFailedCallback.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Value.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Variables.js.map", "export * from \"./AddOrUpdatePoliciesRequest\";\nexport * from \"./AddOrUpdateSchemasRequest\";\nexport * from \"./AuxData\";\nexport * from \"./CheckResourceRequest\";\nexport * from \"./CheckResourcesRequest\";\nexport * from \"./CheckResourcesResponse\";\nexport * from \"./CheckResourcesResult\";\nexport * from \"./CheckResourcesResultMetadata\";\nexport * from \"./CheckResourcesResultMetadataEffect\";\nexport * from \"./CheckResourcesResultResource\";\nexport * from \"./Condition\";\nexport * from \"./DeleteSchemasRequest\";\nexport * from \"./DeleteSchemasResponse\";\nexport * from \"./DerivedRoleDefinition\";\nexport * from \"./DerivedRoles\";\nexport * from \"./DerivedRolesBody\";\nexport * from \"./DisablePoliciesRequest\";\nexport * from \"./DisablePoliciesResponse\";\nexport * from \"./Effect\";\nexport * from \"./EnablePoliciesRequest\";\nexport * from \"./EnablePoliciesResponse\";\nexport * from \"./ExportVariables\";\nexport * from \"./ExportVariablesBody\";\nexport * from \"./GetPoliciesRequest\";\nexport * from \"./GetPoliciesResponse\";\nexport * from \"./GetSchemasRequest\";\nexport * from \"./GetSchemasResponse\";\nexport * from \"./IsAllowedRequest\";\nexport * from \"./JWT\";\nexport * from \"./ListPoliciesRequest\";\nexport * from \"./ListPoliciesResponse\";\nexport * from \"./ListSchemasResponse\";\nexport * from \"./Match\";\nexport * from \"./MatchAll\";\nexport * from \"./MatchAny\";\nexport * from \"./MatchExpr\";\nexport * from \"./MatchNone\";\nexport * from \"./Matches\";\nexport * from \"./Output\";\nexport * from \"./OutputExpressions\";\nexport * from \"./OutputResult\";\nexport * from \"./PlanExpression\";\nexport * from \"./PlanExpressionOperand\";\nexport * from \"./PlanExpressionValue\";\nexport * from \"./PlanExpressionVariable\";\nexport * from \"./PlanKind\";\nexport * from \"./PlanResourcesConditionalResponse\";\nexport * from \"./PlanResourcesMetadata\";\nexport * from \"./PlanResourcesRequest\";\nexport * from \"./PlanResourcesResponse\";\nexport * from \"./PlanResourcesResponseBase\";\nexport * from \"./PlanResourcesUnconditionalResponse\";\nexport * from \"./Policy\";\nexport * from \"./PolicyBase\";\nexport * from \"./PolicyMetadata\";\nexport * from \"./Principal\";\nexport * from \"./PrincipalPolicy\";\nexport * from \"./PrincipalPolicyBody\";\nexport * from \"./PrincipalRule\";\nexport * from \"./PrincipalRuleAction\";\nexport * from \"./ReloadStoreRequest\";\nexport * from \"./Resource\";\nexport * from \"./ResourceCheck\";\nexport * from \"./ResourcePolicy\";\nexport * from \"./ResourcePolicyBody\";\nexport * from \"./ResourceQuery\";\nexport * from \"./ResourceRule\";\nexport * from \"./ResourceSearch\";\nexport * from \"./Schema\";\nexport * from \"./SchemaDefinition\";\nexport * from \"./SchemaDefinitionInput\";\nexport * from \"./SchemaInput\";\nexport * from \"./SchemaRef\";\nexport * from \"./SchemaRefs\";\nexport * from \"./ServerInfo\";\nexport * from \"./ValidationError\";\nexport * from \"./ValidationErrorSource\";\nexport * from \"./ValidationFailedCallback\";\nexport * from \"./Value\";\nexport * from \"./Variables\";\n", "import { Effect as EffectProtobuf } from \"../protobuf/cerbos/effect/v1/effect\";\nimport type {\n  OutputEntry as OutputEntry,\n  PlanResourcesFilter_Expression_Operand,\n} from \"../protobuf/cerbos/engine/v1/engine\";\nimport { PlanResourcesFilter_Kind } from \"../protobuf/cerbos/engine/v1/engine\";\nimport type {\n  Condition as ConditionProtobuf,\n  DerivedRoles as DerivedRolesProtobuf,\n  ExportVariables as ExportVariablesProtobuf,\n  Match as MatchProtobuf,\n  Match_ExprList,\n  Metadata,\n  Output as OutputProtobuf,\n  Policy as PolicyProtobuf,\n  PrincipalPolicy as PrincipalPolicyProtobuf,\n  PrincipalRule as PrincipalRuleProtobuf,\n  PrincipalRule_Action,\n  ResourcePolicy as ResourcePolicyProtobuf,\n  ResourceRule as ResourceRuleProtobuf,\n  RoleDef,\n  Schemas,\n  Schemas_Schema,\n  Variables as VariablesProtobuf,\n} from \"../protobuf/cerbos/policy/v1/policy\";\nimport type {\n  CheckResourcesResponse as CheckResourcesResponseProtobuf,\n  CheckResourcesResponse_ResultEntry,\n  DeleteSchemaResponse,\n  DisablePolicyResponse,\n  EnablePolicyResponse,\n  GetPolicyResponse,\n  GetSchemaResponse,\n  ListPoliciesResponse as ListPoliciesResponseProtobuf,\n  ListSchemasResponse as ListSchemasResponseProtobuf,\n  PlanResourcesResponse as PlanResourcesResponseProtobuf,\n  PlanResourcesResponse_Meta,\n} from \"../protobuf/cerbos/response/v1/response\";\nimport type {\n  Schema as SchemaProtobuf,\n  ValidationError as ValidationErrorProtobuf,\n} from \"../protobuf/cerbos/schema/v1/schema\";\nimport { ValidationError_Source } from \"../protobuf/cerbos/schema/v1/schema\";\nimport type {\n  Condition,\n  DerivedRoleDefinition,\n  DerivedRoles,\n  DisablePoliciesResponse,\n  EnablePoliciesResponse,\n  ExportVariables,\n  GetPoliciesResponse,\n  ListPoliciesResponse,\n  ListSchemasResponse,\n  Match,\n  Matches,\n  Output,\n  OutputResult,\n  PlanExpressionOperand,\n  PlanResourcesMetadata,\n  PlanResourcesResponse,\n  Policy,\n  PolicyBase,\n  PolicyMetadata,\n  PrincipalPolicy,\n  PrincipalRule,\n  PrincipalRuleAction,\n  ResourcePolicy,\n  ResourceRule,\n  Schema,\n  SchemaRef,\n  SchemaRefs,\n  ValidationError,\n  Value,\n  Variables,\n} from \"../types/external\";\nimport {\n  CheckResourcesResponse,\n  CheckResourcesResult,\n  Effect,\n  PlanExpression,\n  PlanExpressionValue,\n  PlanExpressionVariable,\n  PlanKind,\n  SchemaDefinition,\n  ValidationErrorSource,\n} from \"../types/external\";\nimport type { DeleteSchemasResponse } from \"../types/external/DeleteSchemasResponse\";\nimport type { GetSchemasResponse } from \"../types/external/GetSchemasResponse\";\nimport type { OmitFromEach } from \"../types/internal\";\n\nexport function checkResourcesResponseFromProtobuf({\n  requestId,\n  results,\n}: CheckResourcesResponseProtobuf): CheckResourcesResponse {\n  return new CheckResourcesResponse({\n    requestId,\n    results: results.map(checkResourcesResultFromProtobuf),\n  });\n}\n\nfunction checkResourcesResultFromProtobuf({\n  resource,\n  actions,\n  validationErrors,\n  meta,\n  outputs,\n}: CheckResourcesResponse_ResultEntry): CheckResourcesResult {\n  if (!resource) {\n    throw new Error(\"Missing resource on CheckResources result\");\n  }\n\n  return new CheckResourcesResult({\n    resource,\n    actions: actionsFromProtobuf(actions),\n    validationErrors: validationErrors.map(validationErrorFromProtobuf),\n    metadata: meta,\n    outputs: outputs.map(outputResultFromProtobuf),\n  });\n}\n\nfunction actionsFromProtobuf(\n  actions: Record<string, EffectProtobuf>,\n): Record<string, Effect | undefined> {\n  return Object.fromEntries(\n    Object.entries(actions).map(([action, effect]) => [\n      action,\n      effectFromProtobuf(effect),\n    ]),\n  );\n}\n\nfunction effectFromProtobuf(effect: EffectProtobuf): Effect {\n  return effect === EffectProtobuf.EFFECT_ALLOW ? Effect.ALLOW : Effect.DENY;\n}\n\nfunction validationErrorFromProtobuf({\n  path,\n  message,\n  source,\n}: ValidationErrorProtobuf): ValidationError {\n  return {\n    path,\n    message,\n    source: validationErrorSourceFromProtobuf(source),\n  };\n}\n\nfunction validationErrorSourceFromProtobuf(\n  source: ValidationError_Source,\n): ValidationErrorSource {\n  switch (source) {\n    case ValidationError_Source.SOURCE_PRINCIPAL:\n      return ValidationErrorSource.PRINCIPAL;\n\n    case ValidationError_Source.SOURCE_RESOURCE:\n      return ValidationErrorSource.RESOURCE;\n\n    default:\n      throw new Error(\n        `Unexpected validation error source ${source} (${\n          ValidationError_Source[source as number] ?? \"unrecognized\"\n        })`,\n      );\n  }\n}\n\nfunction outputResultFromProtobuf({ src, val }: OutputEntry): OutputResult {\n  return {\n    source: src,\n    value: val as Value | undefined,\n  };\n}\n\nexport function deleteSchemasResponseFromProtobuf({\n  deletedSchemas,\n}: DeleteSchemaResponse): DeleteSchemasResponse {\n  return {\n    deletedSchemas,\n  };\n}\n\nexport function disablePoliciesResponseFromProtobuf({\n  disabledPolicies,\n}: DisablePolicyResponse): DisablePoliciesResponse {\n  return {\n    disabledPolicies,\n  };\n}\n\nexport function enablePoliciesResponseFromProtobuf({\n  enabledPolicies,\n}: EnablePolicyResponse): EnablePoliciesResponse {\n  return {\n    enabledPolicies,\n  };\n}\n\nexport function getPoliciesResponseFromProtobuf({\n  policies,\n}: GetPolicyResponse): GetPoliciesResponse {\n  return {\n    policies: policies.map(_policyFromProtobuf),\n  };\n}\n\n/** @internal */\nexport function _policyFromProtobuf({\n  apiVersion,\n  description,\n  disabled,\n  metadata,\n  variables,\n  policyType,\n}: PolicyProtobuf): Policy {\n  return {\n    apiVersion,\n    description,\n    disabled,\n    metadata: metadata && policyMetadataFromProtobuf(metadata),\n    variables,\n    ...policyTypeFromProtobuf(policyType),\n  };\n}\n\nfunction policyMetadataFromProtobuf({\n  annotations,\n  hash,\n  sourceFile,\n  storeIdentifer,\n  storeIdentifier,\n}: Metadata): PolicyMetadata {\n  return {\n    annotations,\n    hash,\n    sourceFile,\n    storeIdentifer: storeIdentifier || storeIdentifer,\n    storeIdentifier: storeIdentifier || storeIdentifer,\n  };\n}\n\ntype OmitPolicyBase<T extends Policy> = OmitFromEach<T, keyof PolicyBase>;\n\nfunction policyTypeFromProtobuf(\n  policyType: PolicyProtobuf[\"policyType\"],\n): OmitPolicyBase<Policy> {\n  if (!policyType) {\n    throw new Error(\"Unknown policy type: undefined\");\n  }\n\n  switch (policyType.$case) {\n    case \"derivedRoles\":\n      return derivedRolesFromProtobuf(policyType.derivedRoles);\n\n    case \"exportVariables\":\n      return exportVariablesFromProtobuf(policyType.exportVariables);\n\n    case \"principalPolicy\":\n      return principalPolicyFromProtobuf(policyType.principalPolicy);\n\n    case \"resourcePolicy\":\n      return resourcePolicyFromProtobuf(policyType.resourcePolicy);\n\n    default:\n      throw new Error(\n        `Unknown policy type: ${JSON.stringify(policyType, null, 2)}`,\n      );\n  }\n}\n\nfunction derivedRolesFromProtobuf({\n  name,\n  definitions,\n  variables,\n}: DerivedRolesProtobuf): OmitPolicyBase<DerivedRoles> {\n  return {\n    derivedRoles: {\n      name,\n      definitions: definitions.map(derivedRoleDefinitionFromProtobuf),\n      variables: variables && variablesFromProtobuf(variables),\n    },\n  };\n}\n\nfunction derivedRoleDefinitionFromProtobuf({\n  name,\n  parentRoles,\n  condition,\n}: RoleDef): DerivedRoleDefinition {\n  return {\n    name,\n    parentRoles,\n    condition: condition && conditionFromProtobuf(condition),\n  };\n}\n\nfunction conditionFromProtobuf({ condition }: ConditionProtobuf): Condition {\n  switch (condition?.$case) {\n    case \"match\":\n      return {\n        match: matchFromProtobuf(condition.match),\n      };\n\n    default:\n      throw new Error(\n        `Unknown condition type: ${JSON.stringify(condition, null, 2)}`,\n      );\n  }\n}\n\nfunction matchFromProtobuf({ op }: MatchProtobuf): Match {\n  switch (op?.$case) {\n    case \"all\":\n      return {\n        all: matchesFromProtobuf(op.all),\n      };\n\n    case \"any\":\n      return {\n        any: matchesFromProtobuf(op.any),\n      };\n\n    case \"none\":\n      return {\n        none: matchesFromProtobuf(op.none),\n      };\n\n    case \"expr\":\n      return {\n        expr: op.expr,\n      };\n\n    default:\n      throw new Error(`Unknown match type: ${JSON.stringify(op, null, 2)}`);\n  }\n}\n\nfunction matchesFromProtobuf({ of }: Match_ExprList): Matches {\n  return {\n    of: of.map(matchFromProtobuf),\n  };\n}\n\nfunction variablesFromProtobuf({\n  import: imports,\n  local,\n}: VariablesProtobuf): Variables {\n  return {\n    import: imports,\n    local,\n  };\n}\n\nfunction exportVariablesFromProtobuf({\n  name,\n  definitions,\n}: ExportVariablesProtobuf): OmitPolicyBase<ExportVariables> {\n  return {\n    exportVariables: {\n      name,\n      definitions,\n    },\n  };\n}\n\nfunction principalPolicyFromProtobuf({\n  principal,\n  version,\n  rules,\n  scope,\n  variables,\n}: PrincipalPolicyProtobuf): OmitPolicyBase<PrincipalPolicy> {\n  return {\n    principalPolicy: {\n      principal,\n      version,\n      rules: rules.map(principalRuleFromProtobuf),\n      scope,\n      variables: variables && variablesFromProtobuf(variables),\n    },\n  };\n}\n\nfunction principalRuleFromProtobuf({\n  resource,\n  actions,\n}: PrincipalRuleProtobuf): PrincipalRule {\n  return {\n    resource,\n    actions: actions.map(principalRuleActionFromProtobuf),\n  };\n}\n\nfunction principalRuleActionFromProtobuf({\n  action,\n  effect,\n  condition,\n  name,\n  output,\n}: PrincipalRule_Action): PrincipalRuleAction {\n  return {\n    action,\n    effect: effectFromProtobuf(effect),\n    condition: condition && conditionFromProtobuf(condition),\n    name,\n    output: output && outputFromProtobuf(output),\n  };\n}\n\nfunction outputFromProtobuf({ expr, when }: OutputProtobuf): Output {\n  const output: Output = {};\n\n  if (expr) {\n    output.expr = expr;\n  }\n\n  if (when) {\n    output.when = when;\n  }\n\n  return output;\n}\n\nfunction resourcePolicyFromProtobuf({\n  resource,\n  version,\n  importDerivedRoles,\n  rules,\n  schemas,\n  scope,\n  variables,\n}: ResourcePolicyProtobuf): OmitPolicyBase<ResourcePolicy> {\n  return {\n    resourcePolicy: {\n      resource,\n      version,\n      importDerivedRoles,\n      rules: rules.map(resourceRuleFromProtobuf),\n      schemas: schemas && schemaRefsFromProtobuf(schemas),\n      scope,\n      variables: variables && variablesFromProtobuf(variables),\n    },\n  };\n}\n\nfunction resourceRuleFromProtobuf({\n  actions,\n  effect,\n  derivedRoles,\n  roles,\n  condition,\n  name,\n  output,\n}: ResourceRuleProtobuf): ResourceRule {\n  return {\n    actions,\n    effect: effectFromProtobuf(effect),\n    derivedRoles,\n    roles,\n    condition: condition && conditionFromProtobuf(condition),\n    name,\n    output: output && outputFromProtobuf(output),\n  };\n}\n\nfunction schemaRefsFromProtobuf({\n  principalSchema,\n  resourceSchema,\n}: Schemas): SchemaRefs {\n  return {\n    principalSchema: principalSchema && schemaRefFromProtobuf(principalSchema),\n    resourceSchema: resourceSchema && schemaRefFromProtobuf(resourceSchema),\n  };\n}\n\nfunction schemaRefFromProtobuf({ ref, ignoreWhen }: Schemas_Schema): SchemaRef {\n  return {\n    ref,\n    ignoreWhen: ignoreWhen && {\n      actions: ignoreWhen.actions,\n    },\n  };\n}\n\nexport function getSchemasResponseFromProtobuf({\n  schemas,\n}: GetSchemaResponse): GetSchemasResponse {\n  return {\n    schemas: schemas.map(schemaFromProtobuf),\n  };\n}\n\nfunction schemaFromProtobuf({ id, definition }: SchemaProtobuf): Schema {\n  return {\n    id,\n    definition: new SchemaDefinition(definition),\n  };\n}\n\nexport function listPoliciesResponseFromProtobuf({\n  policyIds,\n}: ListPoliciesResponseProtobuf): ListPoliciesResponse {\n  return {\n    ids: policyIds,\n  };\n}\n\nexport function listSchemasResponseFromProtobuf({\n  schemaIds,\n}: ListSchemasResponseProtobuf): ListSchemasResponse {\n  return {\n    ids: schemaIds,\n  };\n}\n\nexport function planResourcesResponseFromProtobuf({\n  requestId,\n  filter,\n  validationErrors,\n  meta,\n}: PlanResourcesResponseProtobuf): PlanResourcesResponse {\n  if (!filter) {\n    throw new Error(\"Missing filter on PlanResources response\");\n  }\n\n  const kind = planKindFromProtobuf(filter.kind);\n  const metadata = meta && planResourcesMetadataFromProtobuf(meta);\n\n  if (kind === PlanKind.CONDITIONAL) {\n    if (!filter.condition) {\n      throw new Error(\"Missing filter condition on PlanResources response\");\n    }\n\n    return {\n      requestId,\n      kind,\n      condition: planOperandFromProtobuf(filter.condition),\n      validationErrors: validationErrors.map(validationErrorFromProtobuf),\n      metadata,\n    };\n  }\n\n  return {\n    requestId,\n    kind,\n    validationErrors: validationErrors.map(validationErrorFromProtobuf),\n    metadata,\n  };\n}\n\nfunction planKindFromProtobuf(kind: PlanResourcesFilter_Kind): PlanKind {\n  switch (kind) {\n    case PlanResourcesFilter_Kind.KIND_ALWAYS_ALLOWED:\n      return PlanKind.ALWAYS_ALLOWED;\n\n    case PlanResourcesFilter_Kind.KIND_ALWAYS_DENIED:\n      return PlanKind.ALWAYS_DENIED;\n\n    case PlanResourcesFilter_Kind.KIND_CONDITIONAL:\n      return PlanKind.CONDITIONAL;\n\n    default:\n      throw new Error(\n        `Unexpected PlanResources filter kind ${kind} (${\n          PlanResourcesFilter_Kind[kind as number] ?? \"unrecognized\"\n        })`,\n      );\n  }\n}\n\nfunction planOperandFromProtobuf({\n  node,\n}: PlanResourcesFilter_Expression_Operand): PlanExpressionOperand {\n  if (!node) {\n    throw new Error(\"Missing node on PlanResources expression operand\");\n  }\n\n  switch (node.$case) {\n    case \"expression\":\n      return new PlanExpression(\n        node.expression.operator,\n        node.expression.operands.map(planOperandFromProtobuf),\n      );\n\n    case \"value\":\n      return new PlanExpressionValue((node.value ?? null) as Value);\n\n    case \"variable\":\n      return new PlanExpressionVariable(node.variable);\n  }\n}\n\nfunction planResourcesMetadataFromProtobuf({\n  filterDebug,\n  matchedScope,\n}: PlanResourcesResponse_Meta): PlanResourcesMetadata {\n  return {\n    conditionString: filterDebug,\n    matchedScope,\n  };\n}\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar _default = {\n  randomUUID\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function get() {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function get() {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function get() {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function get() {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function get() {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function get() {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function get() {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function get() {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }", "import { v4 as uuidv4 } from \"uuid\";\n\nimport { Effect as EffectProtobuf } from \"../protobuf/cerbos/effect/v1/effect\";\nimport type {\n  PlanResourcesInput_Resource,\n  Principal as PrincipalProtobuf,\n  Resource as ResourceProtobuf,\n} from \"../protobuf/cerbos/engine/v1/engine\";\nimport type {\n  Condition as ConditionProtobuf,\n  DerivedRoles as DerivedRolesProtobuf,\n  ExportVariables as ExportVariablesProtobuf,\n  Match as MatchProtobuf,\n  Match_ExprList,\n  Output as OutputProtobuf,\n  Output_When,\n  Policy as PolicyProtobuf,\n  PrincipalPolicy as PrincipalPolicyProtobuf,\n  PrincipalRule as PrincipalRuleProtobuf,\n  PrincipalRule_Action,\n  ResourcePolicy as ResourcePolicyProtobuf,\n  ResourceRule as ResourceRuleProtobuf,\n  RoleDef,\n  Schemas,\n  Schemas_Schema,\n  Variables as VariablesProtobuf,\n} from \"../protobuf/cerbos/policy/v1/policy\";\nimport type {\n  AddOrUpdatePolicyRequest,\n  AddOrUpdateSchemaRequest,\n  AuxData as AuxDataProtobuf,\n  AuxData_JWT,\n  CheckResourcesRequest as CheckResourcesRequestProtobuf,\n  CheckResourcesRequest_ResourceEntry,\n  DeleteSchemaRequest,\n  DisablePolicyRequest,\n  EnablePolicyRequest,\n  GetPolicyRequest,\n  GetSchemaRequest,\n  ListPoliciesRequest as ListPoliciesRequestProtobuf,\n  PlanResourcesRequest as PlanResourcesRequestProtobuf,\n} from \"../protobuf/cerbos/request/v1/request\";\nimport type { Schema } from \"../protobuf/cerbos/schema/v1/schema\";\nimport type {\n  AddOrUpdatePoliciesRequest,\n  AddOrUpdateSchemasRequest,\n  AuxData,\n  CheckResourcesRequest,\n  Condition,\n  DeleteSchemasRequest,\n  DerivedRoleDefinition,\n  DerivedRoles,\n  EnablePoliciesRequest,\n  ExportVariables,\n  GetPoliciesRequest,\n  JWT,\n  ListPoliciesRequest,\n  Match,\n  Matches,\n  Output,\n  OutputExpressions,\n  PlanResourcesRequest,\n  Policy,\n  Principal,\n  PrincipalPolicy,\n  PrincipalRule,\n  PrincipalRuleAction,\n  Resource,\n  ResourceCheck,\n  ResourcePolicy,\n  ResourceQuery,\n  ResourceRule,\n  SchemaDefinitionInput,\n  SchemaInput,\n  SchemaRef,\n  SchemaRefs,\n  Variables,\n} from \"../types/external\";\nimport {\n  Effect,\n  SchemaDefinition,\n  matchIsMatchAll,\n  matchIsMatchAny,\n  matchIsMatchExpr,\n  matchIsMatchNone,\n  policyIsDerivedRoles,\n  policyIsExportVariables,\n  policyIsPrincipalPolicy,\n  policyIsResourcePolicy,\n} from \"../types/external\";\nimport type { DisablePoliciesRequest } from \"../types/external/DisablePoliciesRequest\";\nimport type { GetSchemasRequest } from \"../types/external/GetSchemasRequest\";\n\nconst encoder = new TextEncoder();\n\nexport function addOrUpdatePoliciesRequestToProtobuf({\n  policies,\n}: AddOrUpdatePoliciesRequest): AddOrUpdatePolicyRequest {\n  return {\n    policies: policies.map(policyToProtobuf),\n  };\n}\n\nfunction policyToProtobuf(policy: Policy): PolicyProtobuf {\n  const {\n    apiVersion = \"api.cerbos.dev/v1\",\n    description = \"\",\n    disabled = false,\n    variables = {},\n  } = policy;\n\n  return {\n    apiVersion,\n    description,\n    disabled,\n    jsonSchema: \"\",\n    metadata: undefined,\n    policyType: policyTypeToProtobuf(policy),\n    variables,\n  };\n}\n\nfunction policyTypeToProtobuf(\n  policy: Policy,\n): Exclude<PolicyProtobuf[\"policyType\"], undefined> {\n  if (policyIsDerivedRoles(policy)) {\n    return {\n      $case: \"derivedRoles\",\n      derivedRoles: derivedRolesToProtobuf(policy),\n    };\n  }\n\n  if (policyIsExportVariables(policy)) {\n    return {\n      $case: \"exportVariables\",\n      exportVariables: exportVariablesToProtobuf(policy),\n    };\n  }\n\n  if (policyIsPrincipalPolicy(policy)) {\n    return {\n      $case: \"principalPolicy\",\n      principalPolicy: principalPolicyToProtobuf(policy),\n    };\n  }\n\n  if (policyIsResourcePolicy(policy)) {\n    return {\n      $case: \"resourcePolicy\",\n      resourcePolicy: resourcePolicyToProtobuf(policy),\n    };\n  }\n\n  throw new Error(`Unknown policy type: ${JSON.stringify(policy, null, 2)}`);\n}\n\nfunction derivedRolesToProtobuf({\n  derivedRoles: { name, definitions, variables },\n}: DerivedRoles): DerivedRolesProtobuf {\n  return {\n    name,\n    definitions: definitions.map(derivedRoleDefinitionToProtobuf),\n    variables: variables && variablesToProtobuf(variables),\n  };\n}\n\nfunction derivedRoleDefinitionToProtobuf({\n  name,\n  parentRoles,\n  condition,\n}: DerivedRoleDefinition): RoleDef {\n  return {\n    name,\n    parentRoles,\n    condition: condition && conditionToProtobuf(condition),\n  };\n}\n\nfunction conditionToProtobuf({ match }: Condition): ConditionProtobuf {\n  return {\n    condition: {\n      $case: \"match\",\n      match: matchToProtobuf(match),\n    },\n  };\n}\n\nfunction matchToProtobuf(match: Match): MatchProtobuf {\n  if (matchIsMatchAll(match)) {\n    return {\n      op: {\n        $case: \"all\",\n        all: matchesToProtobuf(match.all),\n      },\n    };\n  }\n\n  if (matchIsMatchAny(match)) {\n    return {\n      op: {\n        $case: \"any\",\n        any: matchesToProtobuf(match.any),\n      },\n    };\n  }\n\n  if (matchIsMatchNone(match)) {\n    return {\n      op: {\n        $case: \"none\",\n        none: matchesToProtobuf(match.none),\n      },\n    };\n  }\n\n  if (matchIsMatchExpr(match)) {\n    return {\n      op: {\n        $case: \"expr\",\n        expr: match.expr,\n      },\n    };\n  }\n\n  throw new Error(`Unknown match type: ${JSON.stringify(match, null, 2)}`);\n}\n\nfunction matchesToProtobuf({ of }: Matches): Match_ExprList {\n  return {\n    of: of.map(matchToProtobuf),\n  };\n}\n\nfunction variablesToProtobuf({\n  import: imports = [],\n  local = {},\n}: Variables): VariablesProtobuf {\n  return {\n    import: imports,\n    local,\n  };\n}\n\nfunction exportVariablesToProtobuf({\n  exportVariables: { name, definitions },\n}: ExportVariables): ExportVariablesProtobuf {\n  return {\n    name,\n    definitions,\n  };\n}\n\nfunction principalPolicyToProtobuf({\n  principalPolicy: { principal, version, rules, scope = \"\", variables },\n}: PrincipalPolicy): PrincipalPolicyProtobuf {\n  return {\n    principal,\n    version,\n    rules: rules.map(principalRuleToProtobuf),\n    scope,\n    variables: variables && variablesToProtobuf(variables),\n  };\n}\n\nfunction principalRuleToProtobuf({\n  resource,\n  actions,\n}: PrincipalRule): PrincipalRuleProtobuf {\n  return {\n    resource,\n    actions: actions.map(principalRuleActionToProtobuf),\n  };\n}\n\nfunction principalRuleActionToProtobuf({\n  action,\n  effect,\n  condition,\n  name = \"\",\n  output,\n}: PrincipalRuleAction): PrincipalRule_Action {\n  return {\n    action,\n    effect: effectToProtobuf(effect),\n    condition: condition && conditionToProtobuf(condition),\n    name,\n    output: output && outputToProtobuf(output),\n  };\n}\n\nfunction effectToProtobuf(effect: Effect): EffectProtobuf {\n  return effect === Effect.ALLOW\n    ? EffectProtobuf.EFFECT_ALLOW\n    : EffectProtobuf.EFFECT_DENY;\n}\n\nfunction outputToProtobuf({ expr = \"\", when }: Output): OutputProtobuf {\n  return {\n    expr,\n    when: when && outputExpressionsToProtobuf(when),\n  };\n}\n\nfunction outputExpressionsToProtobuf({\n  ruleActivated = \"\",\n  conditionNotMet = \"\",\n}: OutputExpressions): Output_When {\n  return {\n    ruleActivated,\n    conditionNotMet,\n  };\n}\n\nfunction resourcePolicyToProtobuf({\n  resourcePolicy: {\n    resource,\n    version,\n    importDerivedRoles = [],\n    rules,\n    scope = \"\",\n    schemas,\n    variables,\n  },\n}: ResourcePolicy): ResourcePolicyProtobuf {\n  return {\n    resource,\n    version,\n    importDerivedRoles,\n    rules: rules.map(resourceRuleToProtobuf),\n    scope,\n    schemas: schemas && policySchemasToProtobuf(schemas),\n    variables: variables && variablesToProtobuf(variables),\n  };\n}\n\nfunction resourceRuleToProtobuf({\n  actions,\n  effect,\n  derivedRoles = [],\n  roles = [],\n  condition,\n  name = \"\",\n  output,\n}: ResourceRule): ResourceRuleProtobuf {\n  return {\n    actions,\n    effect: effectToProtobuf(effect),\n    derivedRoles,\n    roles,\n    condition: condition && conditionToProtobuf(condition),\n    name,\n    output: output && outputToProtobuf(output),\n  };\n}\n\nfunction policySchemasToProtobuf({\n  principalSchema,\n  resourceSchema,\n}: SchemaRefs): Schemas {\n  return {\n    principalSchema: principalSchema && policySchemaToProtobuf(principalSchema),\n    resourceSchema: resourceSchema && policySchemaToProtobuf(resourceSchema),\n  };\n}\n\nfunction policySchemaToProtobuf({\n  ref,\n  ignoreWhen,\n}: SchemaRef): Schemas_Schema {\n  return {\n    ref,\n    ignoreWhen,\n  };\n}\n\nexport function addOrUpdateSchemasRequestToProtobuf({\n  schemas,\n}: AddOrUpdateSchemasRequest): AddOrUpdateSchemaRequest {\n  return {\n    schemas: schemas.map(schemaToProtobuf),\n  };\n}\n\nfunction schemaToProtobuf({ id, definition }: SchemaInput): Schema {\n  return {\n    id,\n    definition: schemaDefinitionToProtobuf(definition),\n  };\n}\n\nfunction schemaDefinitionToProtobuf(\n  definition: SchemaDefinitionInput,\n): Uint8Array {\n  if (definition instanceof Uint8Array) {\n    return definition;\n  }\n\n  if (definition instanceof SchemaDefinition) {\n    return definition.bytes;\n  }\n\n  if (typeof definition === \"string\") {\n    return encoder.encode(definition);\n  }\n\n  return encoder.encode(JSON.stringify(definition));\n}\n\nexport function checkResourcesRequestToProtobuf({\n  principal,\n  resources,\n  auxData,\n  includeMetadata = false,\n  requestId = uuidv4(),\n}: CheckResourcesRequest): CheckResourcesRequestProtobuf {\n  return {\n    principal: principalToProtobuf(principal),\n    resources: resources.map(resourceCheckToProtobuf),\n    auxData: auxData && auxDataToProtobuf(auxData),\n    includeMeta: includeMetadata,\n    requestId,\n  };\n}\n\nfunction principalToProtobuf({\n  id,\n  roles,\n  attr = {},\n  attributes = {},\n  policyVersion = \"\",\n  scope = \"\",\n}: Principal): PrincipalProtobuf {\n  return {\n    id,\n    roles,\n    attr: {\n      ...attributes,\n      ...attr,\n    },\n    policyVersion,\n    scope,\n  };\n}\n\nfunction resourceCheckToProtobuf({\n  resource,\n  actions,\n}: ResourceCheck): CheckResourcesRequest_ResourceEntry {\n  return {\n    resource: resourceToProtobuf(resource),\n    actions,\n  };\n}\n\nfunction resourceToProtobuf({\n  kind,\n  id,\n  attr = {},\n  attributes = {},\n  policyVersion = \"\",\n  scope = \"\",\n}: Resource): ResourceProtobuf {\n  return {\n    kind,\n    id,\n    attr: {\n      ...attributes,\n      ...attr,\n    },\n    policyVersion,\n    scope,\n  };\n}\n\nfunction auxDataToProtobuf({ jwt }: AuxData): AuxDataProtobuf | undefined {\n  if (!jwt) {\n    return undefined;\n  }\n\n  return {\n    jwt: jwtToProtobuf(jwt),\n  };\n}\n\nfunction jwtToProtobuf({ token, keySetId = \"\" }: JWT): AuxData_JWT {\n  return {\n    token,\n    keySetId,\n  };\n}\n\nexport function deleteSchemasRequestToProtobuf({\n  ids,\n}: DeleteSchemasRequest): DeleteSchemaRequest {\n  return {\n    id: ids,\n  };\n}\n\nexport function disablePoliciesRequestToProtobuf({\n  ids,\n}: DisablePoliciesRequest): DisablePolicyRequest {\n  return {\n    id: ids,\n  };\n}\n\nexport function enablePoliciesRequestToProtobuf({\n  ids,\n}: EnablePoliciesRequest): EnablePolicyRequest {\n  return {\n    id: ids,\n  };\n}\n\nexport function getPoliciesRequestToProtobuf({\n  ids,\n}: GetPoliciesRequest): GetPolicyRequest {\n  return {\n    id: ids,\n  };\n}\n\nexport function getSchemasRequestToProtobuf({\n  ids,\n}: GetSchemasRequest): GetSchemaRequest {\n  return {\n    id: ids,\n  };\n}\n\nexport function listPoliciesRequestToProtobuf({\n  includeDisabled = false,\n  nameRegexp = \"\",\n  scopeRegexp = \"\",\n  versionRegexp = \"\",\n}: ListPoliciesRequest): ListPoliciesRequestProtobuf {\n  return {\n    includeDisabled,\n    nameRegexp,\n    scopeRegexp,\n    versionRegexp,\n  };\n}\n\nexport function planResourcesRequestToProtobuf({\n  principal,\n  resource,\n  action,\n  auxData,\n  includeMetadata = false,\n  requestId = uuidv4(),\n}: PlanResourcesRequest): PlanResourcesRequestProtobuf {\n  return {\n    principal: principalToProtobuf(principal),\n    resource: resourceQueryToProtobuf(resource),\n    action,\n    auxData: auxData && auxDataToProtobuf(auxData),\n    includeMeta: includeMetadata,\n    requestId,\n  };\n}\n\nfunction resourceQueryToProtobuf({\n  kind,\n  attr = {},\n  attributes = {},\n  policyVersion = \"\",\n  scope = \"\",\n}: ResourceQuery): PlanResourcesInput_Resource {\n  return {\n    kind,\n    attr: {\n      ...attributes,\n      ...attr,\n    },\n    policyVersion,\n    scope,\n  };\n}\n", "import type { ValidationError } from \"./types/external\";\n\n/**\n * Status codes returned by the Cerbos policy decision point server.\n *\n * @public\n */\nexport enum Status {\n  /**\n   * The operation was cancelled.\n   */\n  CANCELLED = 1,\n\n  /**\n   * The operation timed out.\n   */\n  DEADLINE_EXCEEDED = 4,\n\n  /**\n   * The operation failed due to an internal error.\n   */\n  INTERNAL = 13,\n\n  /**\n   * The operation was rejected because an argument was invalid.\n   */\n  INVALID_ARGUMENT = 3,\n\n  /**\n   * The operation failed because a resource has been exhausted.\n   */\n  RESOURCE_EXHAUSTED = 8,\n\n  /**\n   * The operation was rejected because it did not have valid authentication credentials.\n   */\n  UNAUTHENTICATED = 16,\n\n  /**\n   * The operation was rejected because it did not have valid authentication credentials.\n   */\n  UNAVAILABLE = 14,\n\n  /**\n   * The operation is not supported.\n   */\n  UNIMPLEMENTED = 12,\n\n  /**\n   * An unknown error occurred.\n   */\n  UNKNOWN = 2,\n}\n\n/**\n * Options for creating an error.\n *\n * @public\n */\nexport interface ErrorOptions {\n  /**\n   * The original error that caused this one.\n   */\n  cause?: unknown;\n}\n\n/**\n * Error thrown when the Cerbos policy decision point server returns an unsuccessful response.\n *\n * @public\n */\nexport class NotOK extends Error {\n  /**\n   * Parse a JSON-serialized unsuccessful response.\n   */\n  public static fromJSON(text: string): NotOK {\n    try {\n      const error: unknown = JSON.parse(text);\n      return new NotOK(code(error), details(error));\n    } catch (_) {\n      return new NotOK(Status.UNKNOWN, text);\n    }\n  }\n\n  public constructor(\n    /**\n     * The status code returned by the Cerbos policy decision point server.\n     */\n    public readonly code: Status,\n\n    /**\n     * Additional error details.\n     */\n    public readonly details: string,\n\n    options?: ErrorOptions,\n  ) {\n    super(`gRPC error ${code} (${Status[code]}): ${details}`, options);\n    _setErrorNameAndStack(this);\n  }\n}\n\nfunction code(error: unknown): Status {\n  if (\n    has(error, \"code\") &&\n    typeof error.code === \"number\" &&\n    error.code in Status\n  ) {\n    return error.code || Status.UNKNOWN;\n  }\n\n  throw new Error(\"Error does not include expected code\");\n}\n\nfunction details(error: unknown): string {\n  if (has(error, \"message\") && typeof error.message === \"string\") {\n    return error.message;\n  }\n\n  throw new Error(\"Error does not include expected details\");\n}\n\nfunction has<K extends string>(\n  object: unknown,\n  property: K,\n): object is Record<K, unknown> {\n  return !!object && Object.prototype.hasOwnProperty.call(object, property);\n}\n\n/**\n * Error thrown when input fails schema validation, if the {@link @cerbos/core#Client} is configured with {@link @cerbos/core#Options.onValidationError | onValidationError} set to `\"throw\"`.\n *\n * @public\n */\nexport class ValidationFailed extends Error {\n  public constructor(\n    /**\n     * The validation errors that occurred.\n     */\n    public readonly validationErrors: ValidationError[],\n  ) {\n    super(\"Input failed schema validation\");\n    _setErrorNameAndStack(this);\n  }\n}\n\n/** @internal */\nexport function _setErrorNameAndStack(error: Error): void {\n  error.name = error.constructor.name;\n\n  // `Error.captureStackTrace` is not available in all browsers\n  if (\"captureStackTrace\" in Error) {\n    Error.captureStackTrace(error, error.constructor);\n  }\n}\n", "import {\n  checkResourcesResponseFromProtobuf,\n  deleteSchemasResponseFromProtobuf,\n  disablePoliciesResponseFromProtobuf,\n  enablePoliciesResponseFromProtobuf,\n  getPoliciesResponseFromProtobuf,\n  getSchemasResponseFromProtobuf,\n  listPoliciesResponseFromProtobuf,\n  listSchemasResponseFromProtobuf,\n  planResourcesResponseFromProtobuf,\n} from \"./convert/fromProtobuf\";\nimport {\n  addOrUpdatePoliciesRequestToProtobuf,\n  addOrUpdateSchemasRequestToProtobuf,\n  checkResourcesRequestToProtobuf,\n  deleteSchemasRequestToProtobuf,\n  disablePoliciesRequestToProtobuf,\n  enablePoliciesRequestToProtobuf,\n  getPoliciesRequestToProtobuf,\n  getSchemasRequestToProtobuf,\n  listPoliciesRequestToProtobuf,\n  planResourcesRequestToProtobuf,\n} from \"./convert/toProtobuf\";\nimport { NotOK, Status, ValidationFailed } from \"./errors\";\nimport type { _RPC, _Request, _Response, _Service } from \"./rpcs\";\nimport type {\n  AddOrUpdatePoliciesRequest,\n  AddOrUpdateSchemasRequest,\n  AuxData,\n  CheckResourceRequest,\n  CheckResourcesRequest,\n  CheckResourcesResponse,\n  CheckResourcesResult,\n  DeleteSchemasRequest,\n  DeleteSchemasResponse,\n  DisablePoliciesRequest,\n  DisablePoliciesResponse,\n  EnablePoliciesRequest,\n  EnablePoliciesResponse,\n  GetPoliciesRequest,\n  GetPoliciesResponse,\n  GetSchemasRequest,\n  GetSchemasResponse,\n  IsAllowedRequest,\n  ListPoliciesRequest,\n  ListPoliciesResponse,\n  ListSchemasResponse,\n  PlanResourcesRequest,\n  PlanResourcesResponse,\n  Policy,\n  Principal,\n  ReloadStoreRequest,\n  Schema,\n  ServerInfo,\n  ValidationError,\n  ValidationFailedCallback,\n} from \"./types/external\";\n\n/** @internal */\nexport class _AbortHandler {\n  public constructor(public readonly signal: AbortSignal | undefined) {}\n\n  public throwIfAborted(): void {\n    if (this.signal?.aborted) {\n      throw this.error();\n    }\n  }\n\n  public onAbort(listener: (error: NotOK) => void): void {\n    this.signal?.addEventListener(\"abort\", () => {\n      listener(this.error());\n    });\n  }\n\n  private error(): NotOK {\n    const reason = this.signal?.reason as unknown;\n\n    return new NotOK(\n      Status.CANCELLED,\n      reason instanceof Error ? `Aborted: ${reason.message}` : \"Aborted\",\n      { cause: reason },\n    );\n  }\n}\n\n/** @internal */\nexport type _Transport = <Service extends _Service, RPC extends _RPC<Service>>(\n  service: Service,\n  rpc: RPC,\n  request: _Request<Service, RPC>,\n  headers: Headers,\n  abortHandler: _AbortHandler,\n) => Promise<_Response<Service, RPC>>;\n\n/** @internal */\nexport type _Instrumenter = (transport: _Transport) => _Transport;\n\nconst instrumenters = new Set<_Instrumenter>();\n\n/** @internal */\nexport function _addInstrumenter(instrumenter: _Instrumenter): void {\n  instrumenters.add(instrumenter);\n}\n\n/** @internal */\nexport function _removeInstrumenter(instrumenter: _Instrumenter): void {\n  instrumenters.delete(instrumenter);\n}\n\n/**\n * HTTP headers from which to construct a {@link https://developer.mozilla.org/en-US/docs/Web/API/Headers | Headers} object.\n *\n * @public\n */\nexport type HeadersInit = [string, string][] | Record<string, string> | Headers;\n\n/**\n * Options for creating a new {@link Client}.\n *\n * @public\n */\nexport interface Options {\n  /**\n   * Credentials for the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API}.\n   *\n   * @defaultValue `undefined`\n   */\n  adminCredentials?: AdminCredentials | undefined;\n\n  /**\n   * Headers to add to every request to the policy decision point.\n   *\n   * @remarks\n   * Headers can be included in the policy decision point's audit logs by setting the `includeMetadataKeys` or `excludeMetadataKeys` fields in the\n   * `audit` {@link https://docs.cerbos.dev/cerbos/latest/configuration/audit | configuration block}.\n   *\n   * The `User-Agent` header is set using {@link Options.userAgent}.\n   *\n   * @defaultValue `undefined`\n   */\n  headers?:\n    | HeadersInit\n    | (() => HeadersInit | Promise<HeadersInit>)\n    | undefined;\n\n  /**\n   * Action to take when input fails schema validation.\n   *\n   * @remarks\n   * Possible values are\n   *\n   * - `\"throw\"`, to throw a {@link ValidationFailed} error;\n   *\n   * - a {@link ValidationFailedCallback} function; or\n   *\n   * - `undefined`, to return the validation errors in the response.\n   *\n   * @defaultValue `undefined`\n   */\n  onValidationError?: \"throw\" | ValidationFailedCallback | undefined;\n\n  /**\n   * Identifier of the playground instance to use when prototyping against the hosted demo policy decision point.\n   *\n   * @defaultValue `undefined`\n   */\n  playgroundInstance?: string | undefined;\n\n  /**\n   * Custom user agent to prepend to the built-in value.\n   *\n   * @defaultValue `undefined`\n   */\n  userAgent?: string | undefined;\n}\n\n/**\n * Credentials for the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API}.\n *\n * @public\n */\nexport interface AdminCredentials {\n  /**\n   * Username for authenticating to the admin API.\n   */\n  username: string;\n\n  /**\n   * Password for authenticating to the admin API.\n   */\n  password: string;\n}\n\n/**\n * Options for sending a request to the policy decision point.\n *\n * @public\n */\nexport interface RequestOptions {\n  /**\n   * Headers to add to the request.\n   *\n   * @remarks\n   * Headers can be included in the policy decision point's audit logs by setting the `includeMetadataKeys` or `excludeMetadataKeys` fields\n   * in the `audit` {@link https://docs.cerbos.dev/cerbos/latest/configuration/audit | configuration block}.\n   *\n   * The `User-Agent` header is set using {@link Options.userAgent}.\n   *\n   * @defaultValue `undefined`\n   */\n  headers?: HeadersInit | undefined;\n\n  /**\n   * A {@link https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal | signal} to abort the request.\n   *\n   * @defaultValue `undefined`\n   */\n  signal?: AbortSignal | undefined;\n}\n\n/**\n * Base implementation of a client for interacting with the Cerbos policy decision point server.\n *\n * @public\n */\nexport abstract class Client {\n  /** @internal */\n  protected constructor(\n    private readonly transport: _Transport,\n    private readonly options: Options,\n  ) {\n    for (const instrumenter of instrumenters) {\n      this.transport = instrumenter(this.transport);\n    }\n  }\n\n  /**\n   * Add policies, or update existing policies.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * Create a policy in code:\n   *\n   * ```typescript\n   * await cerbos.addOrUpdatePolicies({\n   *   policies: [{\n   *     resourcePolicy: {\n   *       resource: \"document\",\n   *       version: \"1\",\n   *       rules: [{\n   *         actions: [\"*\"],\n   *         effect: Effect.ALLOW,\n   *         roles: [\"ADMIN\"],\n   *       }],\n   *     },\n   *   }],\n   * });\n   * ```\n   *\n   * @example\n   * Load a policy from a YAML or JSON file with {@link @cerbos/files#readPolicy}:\n   *\n   * ```typescript\n   * import { readPolicy } from \"@cerbos/files\";\n   *\n   * await cerbos.addOrUpdatePolicies({\n   *   policies: [await readPolicy(\"path/to/policy.yaml\")],\n   * });\n   * ```\n   *\n   * @example\n   * Load policies and schemas from a directory with {@link @cerbos/files#readDirectory}:\n   *\n   * ```typescript\n   * import { readDirectory } from \"@cerbos/files\";\n   *\n   * const { policies, schemas } = await readDirectory(\"path/to/directory\");\n   *\n   * await cerbos.addOrUpdateSchemas({ schemas });\n   * await cerbos.addOrUpdatePolicies({ policies });\n   * ```\n   */\n  public async addOrUpdatePolicies(\n    request: AddOrUpdatePoliciesRequest,\n    options?: RequestOptions,\n  ): Promise<void> {\n    await this.admin(\n      \"addOrUpdatePolicy\",\n      addOrUpdatePoliciesRequestToProtobuf(request),\n      options,\n    );\n  }\n\n  /**\n   * Add schemas to be used for validating principal or resource attributes, or update existing schemas.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * Create a schema in code:\n   *\n   * ```typescript\n   *\n   * await cerbos.addOrUpdateSchemas({\n   *   schemas: [{\n   *     id: \"document.json\",\n   *     definition: {\n   *       type: \"object\",\n   *       properties: {\n   *         owner: { type: \"string\" }\n   *       }\n   *     },\n   *   }],\n   * });\n   * ```\n   *\n   * @example\n   * Load a schema from a JSON file with {@link @cerbos/files#readSchema}:\n   *\n   * ```typescript\n   * import { readSchema } from \"@cerbos/files\";\n   *\n   * await cerbos.addOrUpdateSchemas({\n   *   schemas: [await readSchema(\"_schemas/path/to/schema.json\")],\n   * });\n   * ```\n   *\n   * @example\n   * Load policies and schemas from a directory with {@link @cerbos/files#readDirectory}:\n   *\n   * ```typescript\n   * import { readDirectory } from \"@cerbos/files\";\n   *\n   * const { policies, schemas } = await readDirectory(\"path/to/directory\");\n   *\n   * await cerbos.addOrUpdateSchemas({ schemas });\n   * await cerbos.addOrUpdatePolicies({ policies });\n   * ```\n   */\n  public async addOrUpdateSchemas(\n    request: AddOrUpdateSchemasRequest,\n    options?: RequestOptions,\n  ): Promise<void> {\n    await this.admin(\n      \"addOrUpdateSchema\",\n      addOrUpdateSchemasRequestToProtobuf(request),\n      options,\n    );\n  }\n\n  /**\n   * Check a principal's permissions on a resource.\n   *\n   * @example\n   * ```typescript\n   * const decision = await cerbos.checkResource({\n   *   principal: {\n   *     id: \"user@example.com\",\n   *     roles: [\"USER\"],\n   *     attr: { tier: \"PREMIUM\" },\n   *   },\n   *   resource: {\n   *     kind: \"document\",\n   *     id: \"1\",\n   *     attr: { owner: \"user@example.com\" },\n   *   },\n   *   actions: [\"view\", \"edit\"],\n   * });\n   *\n   * decision.isAllowed(\"view\"); // => true\n   * ```\n   */\n  public async checkResource(\n    request: CheckResourceRequest,\n    options?: RequestOptions,\n  ): Promise<CheckResourcesResult> {\n    const { resource, actions, ...rest } = request;\n\n    const response = await this.checkResources(\n      { resources: [{ resource, actions }], ...rest },\n      options,\n    );\n\n    const result = response.findResult(resource);\n    if (!result) {\n      throw new Error(\"No decision returned for resource\");\n    }\n\n    return result;\n  }\n\n  /**\n   * Check a principal's permissions on a set of resources.\n   *\n   * @example\n   * ```typescript\n   * const decision = await cerbos.checkResources({\n   *   principal: {\n   *     id: \"user@example.com\",\n   *     roles: [\"USER\"],\n   *     attr: { tier: \"PREMIUM\" },\n   *   },\n   *   resources: [\n   *     {\n   *       resource: {\n   *         kind: \"document\",\n   *         id: \"1\",\n   *         attr: { owner: \"user@example.com\" },\n   *       },\n   *       actions: [\"view\", \"edit\"],\n   *     },\n   *     {\n   *       resource: {\n   *         kind: \"image\",\n   *         id: \"1\",\n   *         attr: { owner: \"user@example.com\" },\n   *       },\n   *       actions: [\"delete\"],\n   *     },\n   *   ],\n   * });\n   *\n   * decision.isAllowed({\n   *   resource: { kind: \"document\", id: \"1\" },\n   *   action: \"view\",\n   * }); // => true\n   * ```\n   */\n  public async checkResources(\n    request: CheckResourcesRequest,\n    options?: RequestOptions,\n  ): Promise<CheckResourcesResponse> {\n    const response = checkResourcesResponseFromProtobuf(\n      await this.cerbos(\n        \"checkResources\",\n        checkResourcesRequestToProtobuf(request),\n        options,\n      ),\n    );\n\n    this.handleValidationErrors(response);\n\n    return response;\n  }\n\n  /**\n   * Delete a schema.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point (PDP) server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * The way this method handles failure depends on the version of the connected PDP server.\n   * When the server is running Cerbos v0.25 or later, it returns `true` if the schema was deleted and `false` if the schema was not found.\n   * With earlier versions of Cerbos, it throws an error if the schema was not found, and returns successfully if the schema was deleted; the returned value should be ignored.\n   *\n   * @example\n   * ```typescript\n   * const deleted = await cerbos.deleteSchema(\"document.json\");\n   * ```\n   */\n  public async deleteSchema(\n    id: string,\n    options?: RequestOptions,\n  ): Promise<boolean> {\n    const { deletedSchemas } = await this.deleteSchemas({ ids: [id] }, options);\n    return deletedSchemas === 1;\n  }\n\n  /**\n   * Delete multiple schemas.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point (PDP) server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * The way this method handles failure depends on the version of the connected PDP server.\n   * When the server is running Cerbos v0.25 or later, it returns a {@link DeleteSchemasResponse} that includes the number of schemas that were deleted.\n   * With earlier versions of Cerbos, it throws an error if no schemas were found, and returns successfully if at least one schema was deleted; the returned value should be ignored.\n   *\n   * @example\n   * ```typescript\n   * const result = await cerbos.deleteSchemas({\n   *   ids: [\"document.json\", \"image.json\"],\n   * });\n   * ```\n   */\n  public async deleteSchemas(\n    request: DeleteSchemasRequest,\n    options?: RequestOptions,\n  ): Promise<DeleteSchemasResponse> {\n    return deleteSchemasResponseFromProtobuf(\n      await this.admin(\n        \"deleteSchema\",\n        deleteSchemasRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * Disable multiple policies.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be at least v0.25 and configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * ```typescript\n   * const result = await cerbos.disablePolicies({\n   *   ids: [\"resource.document.v1\", \"resource.image.v1\"],\n   * });\n   * ```\n   */\n  public async disablePolicies(\n    request: DisablePoliciesRequest,\n    options?: RequestOptions,\n  ): Promise<DisablePoliciesResponse> {\n    return disablePoliciesResponseFromProtobuf(\n      await this.admin(\n        \"disablePolicy\",\n        disablePoliciesRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * Disable a policy.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be at least v0.25 and configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * ```typescript\n   * const disabled = await cerbos.disablePolicy(\"resource.document.v1\");\n   * ```\n   */\n  public async disablePolicy(\n    id: string,\n    options?: RequestOptions,\n  ): Promise<boolean> {\n    const { disabledPolicies } = await this.disablePolicies(\n      { ids: [id] },\n      options,\n    );\n\n    return disabledPolicies === 1;\n  }\n\n  /**\n   * Enable multiple policies.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be at least v0.26 and configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * ```typescript\n   * const result = await cerbos.enablePolicies({\n   *   ids: [\"resource.document.v1\", \"resource.image.v1\"],\n   * });\n   * ```\n   */\n  public async enablePolicies(\n    request: EnablePoliciesRequest,\n    options?: RequestOptions,\n  ): Promise<EnablePoliciesResponse> {\n    return enablePoliciesResponseFromProtobuf(\n      await this.admin(\n        \"enablePolicy\",\n        enablePoliciesRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * Enable a policy.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be at least v0.26 and configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled, and\n   *\n   * - a dynamic {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * ```typescript\n   * const enabled = await cerbos.enablePolicy(\"resource.document.v1\");\n   * ```\n   */\n  public async enablePolicy(\n    id: string,\n    options?: RequestOptions,\n  ): Promise<boolean> {\n    const { enabledPolicies } = await this.enablePolicies(\n      { ids: [id] },\n      options,\n    );\n\n    return enabledPolicies === 1;\n  }\n\n  /**\n   * Fetch multiple policies by ID.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const policies = await cerbos.getPolicies({\n   *   ids: [\"resource.document.v1\", \"resource.image.v1\"],\n   * });\n   * ```\n   */\n  public async getPolicies(\n    request: GetPoliciesRequest,\n    options?: RequestOptions,\n  ): Promise<GetPoliciesResponse> {\n    return getPoliciesResponseFromProtobuf(\n      await this.admin(\n        \"getPolicy\",\n        getPoliciesRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * Fetch a policy by ID.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const policy = await cerbos.getPolicy(\"resource.document.v1\");\n   * ```\n   */\n  public async getPolicy(\n    id: string,\n    options?: RequestOptions,\n  ): Promise<Policy | undefined> {\n    const {\n      policies: [policy],\n    } = await this.getPolicies({ ids: [id] }, options);\n\n    return policy;\n  }\n\n  /**\n   * Fetch a schema by ID.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const schema = await cerbos.getSchema(\"document.json\");\n   * ```\n   */\n  public async getSchema(\n    id: string,\n    options?: RequestOptions,\n  ): Promise<Schema | undefined> {\n    const {\n      schemas: [schema],\n    } = await this.getSchemas({ ids: [id] }, options);\n\n    return schema;\n  }\n\n  /**\n   * Fetch multiple schemas by ID.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const schemas = await cerbos.getSchemas({\n   *   ids: [\"document.json\", \"image.json\"],\n   * });\n   * ```\n   */\n  public async getSchemas(\n    request: GetSchemasRequest,\n    options?: RequestOptions,\n  ): Promise<GetSchemasResponse> {\n    return getSchemasResponseFromProtobuf(\n      await this.admin(\n        \"getSchema\",\n        getSchemasRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * Check if a principal is allowed to perform an action on a resource.\n   *\n   * @example\n   * ```typescript\n   * await cerbos.isAllowed({\n   *   principal: {\n   *     id: \"user@example.com\",\n   *     roles: [\"USER\"],\n   *     attr: { tier: \"PREMIUM\" },\n   *   },\n   *   resource: {\n   *     kind: \"document\",\n   *     id: \"1\",\n   *     attr: { owner: \"user@example.com\" },\n   *   },\n   *   action: \"view\",\n   * }); // => true\n   * ```\n   */\n  public async isAllowed(\n    request: IsAllowedRequest,\n    options?: RequestOptions,\n  ): Promise<boolean> {\n    const { action, ...rest } = request;\n    const result = await this.checkResource(\n      { actions: [action], ...rest },\n      options,\n    );\n\n    const allowed = result.isAllowed(action);\n    if (allowed === undefined) {\n      throw new Error(\"No decision returned for action\");\n    }\n\n    return allowed;\n  }\n\n  /**\n   * List policies.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const { ids } = await cerbos.listPolicies();\n   * ```\n   */\n  public async listPolicies(\n    request: ListPoliciesRequest = {},\n    options?: RequestOptions,\n  ): Promise<ListPoliciesResponse> {\n    return listPoliciesResponseFromProtobuf(\n      await this.admin(\n        \"listPolicies\",\n        listPoliciesRequestToProtobuf(request),\n        options,\n      ),\n    );\n  }\n\n  /**\n   * List schemas.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials}, and\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API} enabled.\n   *\n   * @example\n   * ```typescript\n   * const { ids } = await cerbos.listSchemas();\n   * ```\n   */\n  public async listSchemas(\n    options?: RequestOptions,\n  ): Promise<ListSchemasResponse> {\n    return listSchemasResponseFromProtobuf(\n      await this.admin(\"listSchemas\", {}, options),\n    );\n  }\n\n  /**\n   * Produce a query plan that can be used to obtain a list of resources on which a principal is allowed to perform a particular action.\n   *\n   * @example\n   * ```typescript\n   * const plan = await cerbos.planResources({\n   *   principal: {\n   *     id: \"user@example.com\",\n   *     roles: [\"USER\"],\n   *     attr: { tier: \"PREMIUM\" },\n   *   },\n   *   resource: { kind: \"document\" },\n   *   action: \"view\",\n   * });\n   * ```\n   */\n  public async planResources(\n    request: PlanResourcesRequest,\n    options?: RequestOptions,\n  ): Promise<PlanResourcesResponse> {\n    const response = planResourcesResponseFromProtobuf(\n      await this.cerbos(\n        \"planResources\",\n        planResourcesRequestToProtobuf(request),\n        options,\n      ),\n    );\n\n    this.handleValidationErrors(response);\n\n    return response;\n  }\n\n  /**\n   * Reload the store.\n   *\n   * @remarks\n   * Requires\n   *\n   * - the client to be configured with {@link Options.adminCredentials},\n   *\n   * - the Cerbos policy decision point server to be configured with the {@link https://docs.cerbos.dev/cerbos/latest/api/admin_api | admin API}, and\n   *\n   * - a reloadable {@link https://docs.cerbos.dev/cerbos/latest/configuration/storage | storage backend}.\n   *\n   * @example\n   * ```typescript\n   * await cerbos.reloadStore({ wait: true });\n   * ```\n   */\n  public async reloadStore(\n    request: ReloadStoreRequest,\n    options?: RequestOptions,\n  ): Promise<void> {\n    await this.admin(\"reloadStore\", request, options);\n  }\n\n  /**\n   * Retrieve information about the Cerbos policy decision point server.\n   */\n  public async serverInfo(options?: RequestOptions): Promise<ServerInfo> {\n    return await this.cerbos(\"serverInfo\", {}, options);\n  }\n\n  /**\n   * Create a client instance with a pre-specified principal.\n   */\n  public withPrincipal(\n    principal: Principal,\n    auxData: Pick<AuxData, \"jwt\"> = {},\n  ): ClientWithPrincipal<this> {\n    return new ClientWithPrincipal(this, principal, auxData);\n  }\n\n  private async admin<RPC extends _RPC<\"admin\">>(\n    rpc: RPC,\n    request: _Request<\"admin\", RPC>,\n    options: RequestOptions | undefined,\n  ): Promise<_Response<\"admin\", RPC>> {\n    return await this.send(\n      \"admin\",\n      rpc,\n      request,\n      this.options.adminCredentials,\n      options,\n    );\n  }\n\n  private async cerbos<RPC extends _RPC<\"cerbos\">>(\n    rpc: RPC,\n    request: _Request<\"cerbos\", RPC>,\n    options: RequestOptions | undefined,\n  ): Promise<_Response<\"cerbos\", RPC>> {\n    return await this.send(\"cerbos\", rpc, request, undefined, options);\n  }\n\n  private async send<Service extends _Service, RPC extends _RPC<Service>>(\n    service: Service,\n    rpc: RPC,\n    request: _Request<Service, RPC>,\n    adminCredentials: AdminCredentials | undefined,\n    { headers, signal }: RequestOptions = {},\n  ): Promise<_Response<Service, RPC>> {\n    return await this.transport(\n      service,\n      rpc,\n      request,\n      await this.mergeHeaders(headers, adminCredentials),\n      new _AbortHandler(signal),\n    );\n  }\n\n  private async mergeHeaders(\n    override: HeadersInit | undefined,\n    adminCredentials: AdminCredentials | undefined,\n  ): Promise<Headers> {\n    const init = this.options.headers;\n\n    const headers = new Headers(\n      typeof init === \"function\" ? await init() : init,\n    );\n\n    if (adminCredentials) {\n      headers.set(\n        \"Authorization\",\n        `Basic ${btoa(\n          `${adminCredentials.username}:${adminCredentials.password}`,\n        )}`,\n      );\n    }\n\n    if (this.options.playgroundInstance) {\n      headers.set(\"Playground-Instance\", this.options.playgroundInstance);\n    }\n\n    if (override) {\n      for (const [name, value] of new Headers(override)) {\n        headers.set(name, value);\n      }\n    }\n\n    return headers;\n  }\n\n  private handleValidationErrors({\n    validationErrors,\n  }: {\n    validationErrors: ValidationError[];\n  }): void {\n    const { onValidationError } = this.options;\n\n    if (onValidationError) {\n      if (validationErrors.length > 0) {\n        if (onValidationError === \"throw\") {\n          throw new ValidationFailed(validationErrors);\n        }\n\n        onValidationError(validationErrors);\n      }\n    }\n  }\n}\n\n/**\n * A client instance with a pre-specified principal.\n *\n * @public\n */\nexport class ClientWithPrincipal<ClientType extends Client = Client> {\n  /** @internal */\n  public constructor(\n    /**\n     * The client from which this instance was created.\n     */\n    public readonly client: ClientType,\n\n    /**\n     * The principal for whom this instance was created.\n     */\n    public readonly principal: Principal,\n\n    /**\n     * Auxiliary data related to the principal for whom this instance was created.\n     *\n     * @defaultValue `{}`\n     */\n    public readonly auxData: Pick<AuxData, \"jwt\"> = {},\n  ) {}\n\n  /**\n   * Check the principal's permissions on a resource.\n   * See {@link Client.checkResource} for details.\n   */\n  public async checkResource(\n    request: Omit<CheckResourceRequest, \"principal\">,\n    options?: RequestOptions,\n  ): Promise<CheckResourcesResult> {\n    return await this.client.checkResource(this.merge(request), options);\n  }\n\n  /**\n   * Check the principal's permissions on a set of resources.\n   * See {@link Client.checkResources} for details.\n   */\n  public async checkResources(\n    request: Omit<CheckResourcesRequest, \"principal\">,\n    options?: RequestOptions,\n  ): Promise<CheckResourcesResponse> {\n    return await this.client.checkResources(this.merge(request), options);\n  }\n\n  /**\n   * Check if the principal is allowed to perform an action on a resource.\n   * See {@link Client.isAllowed} for details.\n   */\n  public async isAllowed(\n    request: Omit<IsAllowedRequest, \"principal\">,\n    options?: RequestOptions,\n  ): Promise<boolean> {\n    return await this.client.isAllowed(this.merge(request), options);\n  }\n\n  /**\n   * Produce a query plan that can be used to obtain a list of resources on which the principal is allowed to perform a particular action.\n   * See {@link Client.planResources} for details.\n   */\n  public async planResources(\n    request: Omit<PlanResourcesRequest, \"principal\">,\n    options?: RequestOptions,\n  ): Promise<PlanResourcesResponse> {\n    return await this.client.planResources(this.merge(request), options);\n  }\n\n  private merge<\n    Request extends { principal: Principal; auxData?: AuxData | undefined },\n  >({ auxData = {}, ...rest }: Omit<Request, \"principal\">): Request {\n    return {\n      principal: this.principal,\n      auxData: {\n        ...this.auxData,\n        ...auxData,\n      },\n      ...rest,\n    } as Request;\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=rpcs.js.map", "/**\n * Common types used by the {@link @cerbos/grpc# | gRPC}, {@link @cerbos/http# | HTTP}, and {@link @cerbos/embedded# | embedded} client libraries.\n *\n * @packageDocumentation\n */\n\nexport * from \"./client\";\nexport { _policyFromProtobuf } from \"./convert/fromProtobuf\";\nexport * from \"./errors\";\nexport * from \"./rpcs\";\nexport * from \"./types/external\";\n", "/* eslint-disable */\n\nexport const protobufPackage = \"cerbos.engine.v1\";\n\nexport interface PlanResourcesInput {}\n\nexport interface PlanResourcesInput_Resource {\n  kind: string;\n  attr: { [key: string]: any | undefined };\n  policyVersion: string;\n  scope: string;\n}\n\nexport interface PlanResourcesInput_Resource_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface PlanResourcesFilter {\n  kind: PlanResourcesFilter_Kind;\n  condition: PlanResourcesFilter_Expression_Operand | undefined;\n}\n\nexport enum PlanResourcesFilter_Kind {\n  KIND_UNSPECIFIED = 0,\n  KIND_ALWAYS_ALLOWED = 1,\n  KIND_ALWAYS_DENIED = 2,\n  KIND_CONDITIONAL = 3,\n}\n\nexport function planResourcesFilter_KindFromJSON(\n  object: any,\n): PlanResourcesFilter_Kind {\n  switch (object) {\n    case 0:\n    case \"KIND_UNSPECIFIED\":\n      return PlanResourcesFilter_Kind.KIND_UNSPECIFIED;\n    case 1:\n    case \"KIND_ALWAYS_ALLOWED\":\n      return PlanResourcesFilter_Kind.KIND_ALWAYS_ALLOWED;\n    case 2:\n    case \"KIND_ALWAYS_DENIED\":\n      return PlanResourcesFilter_Kind.KIND_ALWAYS_DENIED;\n    case 3:\n    case \"KIND_CONDITIONAL\":\n      return PlanResourcesFilter_Kind.KIND_CONDITIONAL;\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" +\n          object +\n          \" for enum PlanResourcesFilter_Kind\",\n      );\n  }\n}\n\nexport function planResourcesFilter_KindToJSON(\n  object: PlanResourcesFilter_Kind,\n): string {\n  switch (object) {\n    case PlanResourcesFilter_Kind.KIND_UNSPECIFIED:\n      return \"KIND_UNSPECIFIED\";\n    case PlanResourcesFilter_Kind.KIND_ALWAYS_ALLOWED:\n      return \"KIND_ALWAYS_ALLOWED\";\n    case PlanResourcesFilter_Kind.KIND_ALWAYS_DENIED:\n      return \"KIND_ALWAYS_DENIED\";\n    case PlanResourcesFilter_Kind.KIND_CONDITIONAL:\n      return \"KIND_CONDITIONAL\";\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" +\n          object +\n          \" for enum PlanResourcesFilter_Kind\",\n      );\n  }\n}\n\nexport interface PlanResourcesFilter_Expression {\n  operator: string;\n  operands: PlanResourcesFilter_Expression_Operand[];\n}\n\nexport interface PlanResourcesFilter_Expression_Operand {\n  node?:\n    | { $case: \"value\"; value: any | undefined }\n    | { $case: \"expression\"; expression: PlanResourcesFilter_Expression }\n    | { $case: \"variable\"; variable: string }\n    | undefined;\n}\n\nexport interface OutputEntry {\n  src: string;\n  val: any | undefined;\n}\n\nexport interface Resource {\n  kind: string;\n  policyVersion: string;\n  id: string;\n  attr: { [key: string]: any | undefined };\n  scope: string;\n}\n\nexport interface Resource_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface Principal {\n  id: string;\n  policyVersion: string;\n  roles: string[];\n  attr: { [key: string]: any | undefined };\n  scope: string;\n}\n\nexport interface Principal_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport const PlanResourcesInput = {\n  fromJSON(_: any): PlanResourcesInput {\n    return {};\n  },\n\n  toJSON(_: PlanResourcesInput): unknown {\n    const obj: any = {};\n    return obj;\n  },\n};\n\nexport const PlanResourcesInput_Resource = {\n  fromJSON(object: any): PlanResourcesInput_Resource {\n    return {\n      kind: isSet(object.kind) ? globalThis.String(object.kind) : \"\",\n      attr: isObject(object.attr)\n        ? Object.entries(object.attr).reduce<{\n            [key: string]: any | undefined;\n          }>((acc, [key, value]) => {\n            acc[key] = value as any | undefined;\n            return acc;\n          }, {})\n        : {},\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      scope: isSet(object.scope) ? globalThis.String(object.scope) : \"\",\n    };\n  },\n\n  toJSON(message: PlanResourcesInput_Resource): unknown {\n    const obj: any = {};\n    if (message.kind !== \"\") {\n      obj.kind = message.kind;\n    }\n    if (message.attr) {\n      const entries = Object.entries(message.attr);\n      if (entries.length > 0) {\n        obj.attr = {};\n        entries.forEach(([k, v]) => {\n          obj.attr[k] = v;\n        });\n      }\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.scope !== \"\") {\n      obj.scope = message.scope;\n    }\n    return obj;\n  },\n};\n\nexport const PlanResourcesInput_Resource_AttrEntry = {\n  fromJSON(object: any): PlanResourcesInput_Resource_AttrEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object?.value) ? object.value : undefined,\n    };\n  },\n\n  toJSON(message: PlanResourcesInput_Resource_AttrEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = message.value;\n    }\n    return obj;\n  },\n};\n\nexport const PlanResourcesFilter = {\n  fromJSON(object: any): PlanResourcesFilter {\n    return {\n      kind: isSet(object.kind)\n        ? planResourcesFilter_KindFromJSON(object.kind)\n        : 0,\n      condition: isSet(object.condition)\n        ? PlanResourcesFilter_Expression_Operand.fromJSON(object.condition)\n        : undefined,\n    };\n  },\n\n  toJSON(message: PlanResourcesFilter): unknown {\n    const obj: any = {};\n    if (message.kind !== 0) {\n      obj.kind = planResourcesFilter_KindToJSON(message.kind);\n    }\n    if (message.condition !== undefined) {\n      obj.condition = PlanResourcesFilter_Expression_Operand.toJSON(\n        message.condition,\n      );\n    }\n    return obj;\n  },\n};\n\nexport const PlanResourcesFilter_Expression = {\n  fromJSON(object: any): PlanResourcesFilter_Expression {\n    return {\n      operator: isSet(object.operator)\n        ? globalThis.String(object.operator)\n        : \"\",\n      operands: globalThis.Array.isArray(object?.operands)\n        ? object.operands.map((e: any) =>\n            PlanResourcesFilter_Expression_Operand.fromJSON(e),\n          )\n        : [],\n    };\n  },\n\n  toJSON(message: PlanResourcesFilter_Expression): unknown {\n    const obj: any = {};\n    if (message.operator !== \"\") {\n      obj.operator = message.operator;\n    }\n    if (message.operands?.length) {\n      obj.operands = message.operands.map((e) =>\n        PlanResourcesFilter_Expression_Operand.toJSON(e),\n      );\n    }\n    return obj;\n  },\n};\n\nexport const PlanResourcesFilter_Expression_Operand = {\n  fromJSON(object: any): PlanResourcesFilter_Expression_Operand {\n    return {\n      node: isSet(object.value)\n        ? { $case: \"value\", value: object.value }\n        : isSet(object.expression)\n          ? {\n              $case: \"expression\",\n              expression: PlanResourcesFilter_Expression.fromJSON(\n                object.expression,\n              ),\n            }\n          : isSet(object.variable)\n            ? {\n                $case: \"variable\",\n                variable: globalThis.String(object.variable),\n              }\n            : undefined,\n    };\n  },\n\n  toJSON(message: PlanResourcesFilter_Expression_Operand): unknown {\n    const obj: any = {};\n    if (message.node?.$case === \"value\") {\n      obj.value = message.node.value;\n    }\n    if (message.node?.$case === \"expression\") {\n      obj.expression = PlanResourcesFilter_Expression.toJSON(\n        message.node.expression,\n      );\n    }\n    if (message.node?.$case === \"variable\") {\n      obj.variable = message.node.variable;\n    }\n    return obj;\n  },\n};\n\nexport const OutputEntry = {\n  fromJSON(object: any): OutputEntry {\n    return {\n      src: isSet(object.src) ? globalThis.String(object.src) : \"\",\n      val: isSet(object?.val) ? object.val : undefined,\n    };\n  },\n\n  toJSON(message: OutputEntry): unknown {\n    const obj: any = {};\n    if (message.src !== \"\") {\n      obj.src = message.src;\n    }\n    if (message.val !== undefined) {\n      obj.val = message.val;\n    }\n    return obj;\n  },\n};\n\nexport const Resource = {\n  fromJSON(object: any): Resource {\n    return {\n      kind: isSet(object.kind) ? globalThis.String(object.kind) : \"\",\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      id: isSet(object.id) ? globalThis.String(object.id) : \"\",\n      attr: isObject(object.attr)\n        ? Object.entries(object.attr).reduce<{\n            [key: string]: any | undefined;\n          }>((acc, [key, value]) => {\n            acc[key] = value as any | undefined;\n            return acc;\n          }, {})\n        : {},\n      scope: isSet(object.scope) ? globalThis.String(object.scope) : \"\",\n    };\n  },\n\n  toJSON(message: Resource): unknown {\n    const obj: any = {};\n    if (message.kind !== \"\") {\n      obj.kind = message.kind;\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.id !== \"\") {\n      obj.id = message.id;\n    }\n    if (message.attr) {\n      const entries = Object.entries(message.attr);\n      if (entries.length > 0) {\n        obj.attr = {};\n        entries.forEach(([k, v]) => {\n          obj.attr[k] = v;\n        });\n      }\n    }\n    if (message.scope !== \"\") {\n      obj.scope = message.scope;\n    }\n    return obj;\n  },\n};\n\nexport const Resource_AttrEntry = {\n  fromJSON(object: any): Resource_AttrEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object?.value) ? object.value : undefined,\n    };\n  },\n\n  toJSON(message: Resource_AttrEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = message.value;\n    }\n    return obj;\n  },\n};\n\nexport const Principal = {\n  fromJSON(object: any): Principal {\n    return {\n      id: isSet(object.id) ? globalThis.String(object.id) : \"\",\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      roles: globalThis.Array.isArray(object?.roles)\n        ? object.roles.map((e: any) => globalThis.String(e))\n        : [],\n      attr: isObject(object.attr)\n        ? Object.entries(object.attr).reduce<{\n            [key: string]: any | undefined;\n          }>((acc, [key, value]) => {\n            acc[key] = value as any | undefined;\n            return acc;\n          }, {})\n        : {},\n      scope: isSet(object.scope) ? globalThis.String(object.scope) : \"\",\n    };\n  },\n\n  toJSON(message: Principal): unknown {\n    const obj: any = {};\n    if (message.id !== \"\") {\n      obj.id = message.id;\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.roles?.length) {\n      obj.roles = message.roles;\n    }\n    if (message.attr) {\n      const entries = Object.entries(message.attr);\n      if (entries.length > 0) {\n        obj.attr = {};\n        entries.forEach(([k, v]) => {\n          obj.attr[k] = v;\n        });\n      }\n    }\n    if (message.scope !== \"\") {\n      obj.scope = message.scope;\n    }\n    return obj;\n  },\n};\n\nexport const Principal_AttrEntry = {\n  fromJSON(object: any): Principal_AttrEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object?.value) ? object.value : undefined,\n    };\n  },\n\n  toJSON(message: Principal_AttrEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = message.value;\n    }\n    return obj;\n  },\n};\n\nfunction isObject(value: any): boolean {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n", "/* eslint-disable */\nimport {\n  PlanResourcesInput_Resource,\n  Principal,\n  Resource,\n} from \"../../engine/v1/engine\";\n\nexport const protobufPackage = \"cerbos.request.v1\";\n\nexport interface PlanResourcesRequest {\n  requestId: string;\n  action: string;\n  principal: Principal | undefined;\n  resource: PlanResourcesInput_Resource | undefined;\n  auxData: AuxData | undefined;\n  includeMeta: boolean;\n}\n\nexport interface CheckResourceSetRequest {\n  requestId: string;\n  actions: string[];\n  principal: Principal | undefined;\n  resource: ResourceSet | undefined;\n  includeMeta: boolean;\n  auxData: AuxData | undefined;\n}\n\nexport interface ResourceSet {\n  kind: string;\n  policyVersion: string;\n  instances: { [key: string]: AttributesMap };\n  scope: string;\n}\n\nexport interface ResourceSet_InstancesEntry {\n  key: string;\n  value: AttributesMap | undefined;\n}\n\nexport interface AttributesMap {\n  attr: { [key: string]: any | undefined };\n}\n\nexport interface AttributesMap_AttrEntry {\n  key: string;\n  value: any | undefined;\n}\n\nexport interface CheckResourceBatchRequest {\n  requestId: string;\n  principal: Principal | undefined;\n  resources: CheckResourceBatchRequest_BatchEntry[];\n  auxData: AuxData | undefined;\n}\n\nexport interface CheckResourceBatchRequest_BatchEntry {\n  actions: string[];\n  resource: Resource | undefined;\n}\n\nexport interface CheckResourcesRequest {\n  requestId: string;\n  includeMeta: boolean;\n  principal: Principal | undefined;\n  resources: CheckResourcesRequest_ResourceEntry[];\n  auxData: AuxData | undefined;\n}\n\nexport interface CheckResourcesRequest_ResourceEntry {\n  actions: string[];\n  resource: Resource | undefined;\n}\n\nexport interface AuxData {\n  jwt: AuxData_JWT | undefined;\n}\n\nexport interface AuxData_JWT {\n  token: string;\n  keySetId: string;\n}\n\nexport interface ServerInfoRequest {}\n\nexport const PlanResourcesRequest = {\n  fromJSON(object: any): PlanResourcesRequest {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      action: isSet(object.action) ? globalThis.String(object.action) : \"\",\n      principal: isSet(object.principal)\n        ? Principal.fromJSON(object.principal)\n        : undefined,\n      resource: isSet(object.resource)\n        ? PlanResourcesInput_Resource.fromJSON(object.resource)\n        : undefined,\n      auxData: isSet(object.auxData)\n        ? AuxData.fromJSON(object.auxData)\n        : undefined,\n      includeMeta: isSet(object.includeMeta)\n        ? globalThis.Boolean(object.includeMeta)\n        : false,\n    };\n  },\n\n  toJSON(message: PlanResourcesRequest): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.action !== \"\") {\n      obj.action = message.action;\n    }\n    if (message.principal !== undefined) {\n      obj.principal = Principal.toJSON(message.principal);\n    }\n    if (message.resource !== undefined) {\n      obj.resource = PlanResourcesInput_Resource.toJSON(message.resource);\n    }\n    if (message.auxData !== undefined) {\n      obj.auxData = AuxData.toJSON(message.auxData);\n    }\n    if (message.includeMeta !== false) {\n      obj.includeMeta = message.includeMeta;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetRequest = {\n  fromJSON(object: any): CheckResourceSetRequest {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      actions: globalThis.Array.isArray(object?.actions)\n        ? object.actions.map((e: any) => globalThis.String(e))\n        : [],\n      principal: isSet(object.principal)\n        ? Principal.fromJSON(object.principal)\n        : undefined,\n      resource: isSet(object.resource)\n        ? ResourceSet.fromJSON(object.resource)\n        : undefined,\n      includeMeta: isSet(object.includeMeta)\n        ? globalThis.Boolean(object.includeMeta)\n        : false,\n      auxData: isSet(object.auxData)\n        ? AuxData.fromJSON(object.auxData)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourceSetRequest): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.actions?.length) {\n      obj.actions = message.actions;\n    }\n    if (message.principal !== undefined) {\n      obj.principal = Principal.toJSON(message.principal);\n    }\n    if (message.resource !== undefined) {\n      obj.resource = ResourceSet.toJSON(message.resource);\n    }\n    if (message.includeMeta !== false) {\n      obj.includeMeta = message.includeMeta;\n    }\n    if (message.auxData !== undefined) {\n      obj.auxData = AuxData.toJSON(message.auxData);\n    }\n    return obj;\n  },\n};\n\nexport const ResourceSet = {\n  fromJSON(object: any): ResourceSet {\n    return {\n      kind: isSet(object.kind) ? globalThis.String(object.kind) : \"\",\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      instances: isObject(object.instances)\n        ? Object.entries(object.instances).reduce<{\n            [key: string]: AttributesMap;\n          }>((acc, [key, value]) => {\n            acc[key] = AttributesMap.fromJSON(value);\n            return acc;\n          }, {})\n        : {},\n      scope: isSet(object.scope) ? globalThis.String(object.scope) : \"\",\n    };\n  },\n\n  toJSON(message: ResourceSet): unknown {\n    const obj: any = {};\n    if (message.kind !== \"\") {\n      obj.kind = message.kind;\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.instances) {\n      const entries = Object.entries(message.instances);\n      if (entries.length > 0) {\n        obj.instances = {};\n        entries.forEach(([k, v]) => {\n          obj.instances[k] = AttributesMap.toJSON(v);\n        });\n      }\n    }\n    if (message.scope !== \"\") {\n      obj.scope = message.scope;\n    }\n    return obj;\n  },\n};\n\nexport const ResourceSet_InstancesEntry = {\n  fromJSON(object: any): ResourceSet_InstancesEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value)\n        ? AttributesMap.fromJSON(object.value)\n        : undefined,\n    };\n  },\n\n  toJSON(message: ResourceSet_InstancesEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = AttributesMap.toJSON(message.value);\n    }\n    return obj;\n  },\n};\n\nexport const AttributesMap = {\n  fromJSON(object: any): AttributesMap {\n    return {\n      attr: isObject(object.attr)\n        ? Object.entries(object.attr).reduce<{\n            [key: string]: any | undefined;\n          }>((acc, [key, value]) => {\n            acc[key] = value as any | undefined;\n            return acc;\n          }, {})\n        : {},\n    };\n  },\n\n  toJSON(message: AttributesMap): unknown {\n    const obj: any = {};\n    if (message.attr) {\n      const entries = Object.entries(message.attr);\n      if (entries.length > 0) {\n        obj.attr = {};\n        entries.forEach(([k, v]) => {\n          obj.attr[k] = v;\n        });\n      }\n    }\n    return obj;\n  },\n};\n\nexport const AttributesMap_AttrEntry = {\n  fromJSON(object: any): AttributesMap_AttrEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object?.value) ? object.value : undefined,\n    };\n  },\n\n  toJSON(message: AttributesMap_AttrEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = message.value;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceBatchRequest = {\n  fromJSON(object: any): CheckResourceBatchRequest {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      principal: isSet(object.principal)\n        ? Principal.fromJSON(object.principal)\n        : undefined,\n      resources: globalThis.Array.isArray(object?.resources)\n        ? object.resources.map((e: any) =>\n            CheckResourceBatchRequest_BatchEntry.fromJSON(e),\n          )\n        : [],\n      auxData: isSet(object.auxData)\n        ? AuxData.fromJSON(object.auxData)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourceBatchRequest): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.principal !== undefined) {\n      obj.principal = Principal.toJSON(message.principal);\n    }\n    if (message.resources?.length) {\n      obj.resources = message.resources.map((e) =>\n        CheckResourceBatchRequest_BatchEntry.toJSON(e),\n      );\n    }\n    if (message.auxData !== undefined) {\n      obj.auxData = AuxData.toJSON(message.auxData);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceBatchRequest_BatchEntry = {\n  fromJSON(object: any): CheckResourceBatchRequest_BatchEntry {\n    return {\n      actions: globalThis.Array.isArray(object?.actions)\n        ? object.actions.map((e: any) => globalThis.String(e))\n        : [],\n      resource: isSet(object.resource)\n        ? Resource.fromJSON(object.resource)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourceBatchRequest_BatchEntry): unknown {\n    const obj: any = {};\n    if (message.actions?.length) {\n      obj.actions = message.actions;\n    }\n    if (message.resource !== undefined) {\n      obj.resource = Resource.toJSON(message.resource);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesRequest = {\n  fromJSON(object: any): CheckResourcesRequest {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      includeMeta: isSet(object.includeMeta)\n        ? globalThis.Boolean(object.includeMeta)\n        : false,\n      principal: isSet(object.principal)\n        ? Principal.fromJSON(object.principal)\n        : undefined,\n      resources: globalThis.Array.isArray(object?.resources)\n        ? object.resources.map((e: any) =>\n            CheckResourcesRequest_ResourceEntry.fromJSON(e),\n          )\n        : [],\n      auxData: isSet(object.auxData)\n        ? AuxData.fromJSON(object.auxData)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourcesRequest): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.includeMeta !== false) {\n      obj.includeMeta = message.includeMeta;\n    }\n    if (message.principal !== undefined) {\n      obj.principal = Principal.toJSON(message.principal);\n    }\n    if (message.resources?.length) {\n      obj.resources = message.resources.map((e) =>\n        CheckResourcesRequest_ResourceEntry.toJSON(e),\n      );\n    }\n    if (message.auxData !== undefined) {\n      obj.auxData = AuxData.toJSON(message.auxData);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesRequest_ResourceEntry = {\n  fromJSON(object: any): CheckResourcesRequest_ResourceEntry {\n    return {\n      actions: globalThis.Array.isArray(object?.actions)\n        ? object.actions.map((e: any) => globalThis.String(e))\n        : [],\n      resource: isSet(object.resource)\n        ? Resource.fromJSON(object.resource)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourcesRequest_ResourceEntry): unknown {\n    const obj: any = {};\n    if (message.actions?.length) {\n      obj.actions = message.actions;\n    }\n    if (message.resource !== undefined) {\n      obj.resource = Resource.toJSON(message.resource);\n    }\n    return obj;\n  },\n};\n\nexport const AuxData = {\n  fromJSON(object: any): AuxData {\n    return {\n      jwt: isSet(object.jwt) ? AuxData_JWT.fromJSON(object.jwt) : undefined,\n    };\n  },\n\n  toJSON(message: AuxData): unknown {\n    const obj: any = {};\n    if (message.jwt !== undefined) {\n      obj.jwt = AuxData_JWT.toJSON(message.jwt);\n    }\n    return obj;\n  },\n};\n\nexport const AuxData_JWT = {\n  fromJSON(object: any): AuxData_JWT {\n    return {\n      token: isSet(object.token) ? globalThis.String(object.token) : \"\",\n      keySetId: isSet(object.keySetId)\n        ? globalThis.String(object.keySetId)\n        : \"\",\n    };\n  },\n\n  toJSON(message: AuxData_JWT): unknown {\n    const obj: any = {};\n    if (message.token !== \"\") {\n      obj.token = message.token;\n    }\n    if (message.keySetId !== \"\") {\n      obj.keySetId = message.keySetId;\n    }\n    return obj;\n  },\n};\n\nexport const ServerInfoRequest = {\n  fromJSON(_: any): ServerInfoRequest {\n    return {};\n  },\n\n  toJSON(_: ServerInfoRequest): unknown {\n    const obj: any = {};\n    return obj;\n  },\n};\n\nfunction isObject(value: any): boolean {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n", "/* eslint-disable */\n\nexport const protobufPackage = \"cerbos.effect.v1\";\n\nexport enum Effect {\n  EFFECT_UNSPECIFIED = 0,\n  EFFECT_ALLOW = 1,\n  EFFECT_DENY = 2,\n  EFFECT_NO_MATCH = 3,\n}\n\nexport function effectFromJSON(object: any): Effect {\n  switch (object) {\n    case 0:\n    case \"EFFECT_UNSPECIFIED\":\n      return Effect.EFFECT_UNSPECIFIED;\n    case 1:\n    case \"EFFECT_ALLOW\":\n      return Effect.EFFECT_ALLOW;\n    case 2:\n    case \"EFFECT_DENY\":\n      return Effect.EFFECT_DENY;\n    case 3:\n    case \"EFFECT_NO_MATCH\":\n      return Effect.EFFECT_NO_MATCH;\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum Effect\",\n      );\n  }\n}\n\nexport function effectToJSON(object: Effect): string {\n  switch (object) {\n    case Effect.EFFECT_UNSPECIFIED:\n      return \"EFFECT_UNSPECIFIED\";\n    case Effect.EFFECT_ALLOW:\n      return \"EFFECT_ALLOW\";\n    case Effect.EFFECT_DENY:\n      return \"EFFECT_DENY\";\n    case Effect.EFFECT_NO_MATCH:\n      return \"EFFECT_NO_MATCH\";\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum Effect\",\n      );\n  }\n}\n", "/* eslint-disable */\n\nexport const protobufPackage = \"cerbos.schema.v1\";\n\nexport interface ValidationError {\n  path: string;\n  message: string;\n  source: ValidationError_Source;\n}\n\nexport enum ValidationError_Source {\n  SOURCE_UNSPECIFIED = 0,\n  SOURCE_PRINCIPAL = 1,\n  SOURCE_RESOURCE = 2,\n}\n\nexport function validationError_SourceFromJSON(\n  object: any,\n): ValidationError_Source {\n  switch (object) {\n    case 0:\n    case \"SOURCE_UNSPECIFIED\":\n      return ValidationError_Source.SOURCE_UNSPECIFIED;\n    case 1:\n    case \"SOURCE_PRINCIPAL\":\n      return ValidationError_Source.SOURCE_PRINCIPAL;\n    case 2:\n    case \"SOURCE_RESOURCE\":\n      return ValidationError_Source.SOURCE_RESOURCE;\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" +\n          object +\n          \" for enum ValidationError_Source\",\n      );\n  }\n}\n\nexport function validationError_SourceToJSON(\n  object: ValidationError_Source,\n): string {\n  switch (object) {\n    case ValidationError_Source.SOURCE_UNSPECIFIED:\n      return \"SOURCE_UNSPECIFIED\";\n    case ValidationError_Source.SOURCE_PRINCIPAL:\n      return \"SOURCE_PRINCIPAL\";\n    case ValidationError_Source.SOURCE_RESOURCE:\n      return \"SOURCE_RESOURCE\";\n    default:\n      throw new globalThis.Error(\n        \"Unrecognized enum value \" +\n          object +\n          \" for enum ValidationError_Source\",\n      );\n  }\n}\n\nexport const ValidationError = {\n  fromJSON(object: any): ValidationError {\n    return {\n      path: isSet(object.path) ? globalThis.String(object.path) : \"\",\n      message: isSet(object.message) ? globalThis.String(object.message) : \"\",\n      source: isSet(object.source)\n        ? validationError_SourceFromJSON(object.source)\n        : 0,\n    };\n  },\n\n  toJSON(message: ValidationError): unknown {\n    const obj: any = {};\n    if (message.path !== \"\") {\n      obj.path = message.path;\n    }\n    if (message.message !== \"\") {\n      obj.message = message.message;\n    }\n    if (message.source !== 0) {\n      obj.source = validationError_SourceToJSON(message.source);\n    }\n    return obj;\n  },\n};\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n", "/* eslint-disable */\nimport { Effect, effectFromJSON, effectToJSON } from \"../../effect/v1/effect\";\nimport { OutputEntry, PlanResourcesFilter } from \"../../engine/v1/engine\";\nimport { ValidationError } from \"../../schema/v1/schema\";\n\nexport const protobufPackage = \"cerbos.response.v1\";\n\nexport interface PlanResourcesResponse {\n  requestId: string;\n  action: string;\n  resourceKind: string;\n  policyVersion: string;\n  filter: PlanResourcesFilter | undefined;\n  meta: PlanResourcesResponse_Meta | undefined;\n  validationErrors: ValidationError[];\n  cerbosCallId: string;\n}\n\nexport interface PlanResourcesResponse_Meta {\n  filterDebug: string;\n  matchedScope: string;\n}\n\nexport interface CheckResourceSetResponse {\n  requestId: string;\n  resourceInstances: {\n    [key: string]: CheckResourceSetResponse_ActionEffectMap;\n  };\n  meta: CheckResourceSetResponse_Meta | undefined;\n}\n\nexport interface CheckResourceSetResponse_ActionEffectMap {\n  actions: { [key: string]: Effect };\n  validationErrors: ValidationError[];\n}\n\nexport interface CheckResourceSetResponse_ActionEffectMap_ActionsEntry {\n  key: string;\n  value: Effect;\n}\n\nexport interface CheckResourceSetResponse_Meta {\n  resourceInstances: {\n    [key: string]: CheckResourceSetResponse_Meta_ActionMeta;\n  };\n}\n\nexport interface CheckResourceSetResponse_Meta_EffectMeta {\n  matchedPolicy: string;\n  matchedScope: string;\n}\n\nexport interface CheckResourceSetResponse_Meta_ActionMeta {\n  actions: { [key: string]: CheckResourceSetResponse_Meta_EffectMeta };\n  effectiveDerivedRoles: string[];\n}\n\nexport interface CheckResourceSetResponse_Meta_ActionMeta_ActionsEntry {\n  key: string;\n  value: CheckResourceSetResponse_Meta_EffectMeta | undefined;\n}\n\nexport interface CheckResourceSetResponse_Meta_ResourceInstancesEntry {\n  key: string;\n  value: CheckResourceSetResponse_Meta_ActionMeta | undefined;\n}\n\nexport interface CheckResourceSetResponse_ResourceInstancesEntry {\n  key: string;\n  value: CheckResourceSetResponse_ActionEffectMap | undefined;\n}\n\nexport interface CheckResourceBatchResponse {\n  requestId: string;\n  results: CheckResourceBatchResponse_ActionEffectMap[];\n}\n\nexport interface CheckResourceBatchResponse_ActionEffectMap {\n  resourceId: string;\n  actions: { [key: string]: Effect };\n  validationErrors: ValidationError[];\n}\n\nexport interface CheckResourceBatchResponse_ActionEffectMap_ActionsEntry {\n  key: string;\n  value: Effect;\n}\n\nexport interface CheckResourcesResponse {\n  requestId: string;\n  results: CheckResourcesResponse_ResultEntry[];\n  cerbosCallId: string;\n}\n\nexport interface CheckResourcesResponse_ResultEntry {\n  resource: CheckResourcesResponse_ResultEntry_Resource | undefined;\n  actions: { [key: string]: Effect };\n  validationErrors: ValidationError[];\n  meta: CheckResourcesResponse_ResultEntry_Meta | undefined;\n  outputs: OutputEntry[];\n}\n\nexport interface CheckResourcesResponse_ResultEntry_Resource {\n  id: string;\n  kind: string;\n  policyVersion: string;\n  scope: string;\n}\n\nexport interface CheckResourcesResponse_ResultEntry_Meta {\n  actions: {\n    [key: string]: CheckResourcesResponse_ResultEntry_Meta_EffectMeta;\n  };\n  effectiveDerivedRoles: string[];\n}\n\nexport interface CheckResourcesResponse_ResultEntry_Meta_EffectMeta {\n  matchedPolicy: string;\n  matchedScope: string;\n}\n\nexport interface CheckResourcesResponse_ResultEntry_Meta_ActionsEntry {\n  key: string;\n  value: CheckResourcesResponse_ResultEntry_Meta_EffectMeta | undefined;\n}\n\nexport interface CheckResourcesResponse_ResultEntry_ActionsEntry {\n  key: string;\n  value: Effect;\n}\n\nexport interface ServerInfoResponse {\n  version: string;\n  commit: string;\n  buildDate: string;\n}\n\nexport const PlanResourcesResponse = {\n  fromJSON(object: any): PlanResourcesResponse {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      action: isSet(object.action) ? globalThis.String(object.action) : \"\",\n      resourceKind: isSet(object.resourceKind)\n        ? globalThis.String(object.resourceKind)\n        : \"\",\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      filter: isSet(object.filter)\n        ? PlanResourcesFilter.fromJSON(object.filter)\n        : undefined,\n      meta: isSet(object.meta)\n        ? PlanResourcesResponse_Meta.fromJSON(object.meta)\n        : undefined,\n      validationErrors: globalThis.Array.isArray(object?.validationErrors)\n        ? object.validationErrors.map((e: any) => ValidationError.fromJSON(e))\n        : [],\n      cerbosCallId: isSet(object.cerbosCallId)\n        ? globalThis.String(object.cerbosCallId)\n        : \"\",\n    };\n  },\n\n  toJSON(message: PlanResourcesResponse): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.action !== \"\") {\n      obj.action = message.action;\n    }\n    if (message.resourceKind !== \"\") {\n      obj.resourceKind = message.resourceKind;\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.filter !== undefined) {\n      obj.filter = PlanResourcesFilter.toJSON(message.filter);\n    }\n    if (message.meta !== undefined) {\n      obj.meta = PlanResourcesResponse_Meta.toJSON(message.meta);\n    }\n    if (message.validationErrors?.length) {\n      obj.validationErrors = message.validationErrors.map((e) =>\n        ValidationError.toJSON(e),\n      );\n    }\n    if (message.cerbosCallId !== \"\") {\n      obj.cerbosCallId = message.cerbosCallId;\n    }\n    return obj;\n  },\n};\n\nexport const PlanResourcesResponse_Meta = {\n  fromJSON(object: any): PlanResourcesResponse_Meta {\n    return {\n      filterDebug: isSet(object.filterDebug)\n        ? globalThis.String(object.filterDebug)\n        : \"\",\n      matchedScope: isSet(object.matchedScope)\n        ? globalThis.String(object.matchedScope)\n        : \"\",\n    };\n  },\n\n  toJSON(message: PlanResourcesResponse_Meta): unknown {\n    const obj: any = {};\n    if (message.filterDebug !== \"\") {\n      obj.filterDebug = message.filterDebug;\n    }\n    if (message.matchedScope !== \"\") {\n      obj.matchedScope = message.matchedScope;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse = {\n  fromJSON(object: any): CheckResourceSetResponse {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      resourceInstances: isObject(object.resourceInstances)\n        ? Object.entries(object.resourceInstances).reduce<{\n            [key: string]: CheckResourceSetResponse_ActionEffectMap;\n          }>((acc, [key, value]) => {\n            acc[key] = CheckResourceSetResponse_ActionEffectMap.fromJSON(value);\n            return acc;\n          }, {})\n        : {},\n      meta: isSet(object.meta)\n        ? CheckResourceSetResponse_Meta.fromJSON(object.meta)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.resourceInstances) {\n      const entries = Object.entries(message.resourceInstances);\n      if (entries.length > 0) {\n        obj.resourceInstances = {};\n        entries.forEach(([k, v]) => {\n          obj.resourceInstances[k] =\n            CheckResourceSetResponse_ActionEffectMap.toJSON(v);\n        });\n      }\n    }\n    if (message.meta !== undefined) {\n      obj.meta = CheckResourceSetResponse_Meta.toJSON(message.meta);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_ActionEffectMap = {\n  fromJSON(object: any): CheckResourceSetResponse_ActionEffectMap {\n    return {\n      actions: isObject(object.actions)\n        ? Object.entries(object.actions).reduce<{ [key: string]: Effect }>(\n            (acc, [key, value]) => {\n              acc[key] = effectFromJSON(value);\n              return acc;\n            },\n            {},\n          )\n        : {},\n      validationErrors: globalThis.Array.isArray(object?.validationErrors)\n        ? object.validationErrors.map((e: any) => ValidationError.fromJSON(e))\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse_ActionEffectMap): unknown {\n    const obj: any = {};\n    if (message.actions) {\n      const entries = Object.entries(message.actions);\n      if (entries.length > 0) {\n        obj.actions = {};\n        entries.forEach(([k, v]) => {\n          obj.actions[k] = effectToJSON(v);\n        });\n      }\n    }\n    if (message.validationErrors?.length) {\n      obj.validationErrors = message.validationErrors.map((e) =>\n        ValidationError.toJSON(e),\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_ActionEffectMap_ActionsEntry = {\n  fromJSON(object: any): CheckResourceSetResponse_ActionEffectMap_ActionsEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value) ? effectFromJSON(object.value) : 0,\n    };\n  },\n\n  toJSON(\n    message: CheckResourceSetResponse_ActionEffectMap_ActionsEntry,\n  ): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== 0) {\n      obj.value = effectToJSON(message.value);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_Meta = {\n  fromJSON(object: any): CheckResourceSetResponse_Meta {\n    return {\n      resourceInstances: isObject(object.resourceInstances)\n        ? Object.entries(object.resourceInstances).reduce<{\n            [key: string]: CheckResourceSetResponse_Meta_ActionMeta;\n          }>((acc, [key, value]) => {\n            acc[key] = CheckResourceSetResponse_Meta_ActionMeta.fromJSON(value);\n            return acc;\n          }, {})\n        : {},\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse_Meta): unknown {\n    const obj: any = {};\n    if (message.resourceInstances) {\n      const entries = Object.entries(message.resourceInstances);\n      if (entries.length > 0) {\n        obj.resourceInstances = {};\n        entries.forEach(([k, v]) => {\n          obj.resourceInstances[k] =\n            CheckResourceSetResponse_Meta_ActionMeta.toJSON(v);\n        });\n      }\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_Meta_EffectMeta = {\n  fromJSON(object: any): CheckResourceSetResponse_Meta_EffectMeta {\n    return {\n      matchedPolicy: isSet(object.matchedPolicy)\n        ? globalThis.String(object.matchedPolicy)\n        : \"\",\n      matchedScope: isSet(object.matchedScope)\n        ? globalThis.String(object.matchedScope)\n        : \"\",\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse_Meta_EffectMeta): unknown {\n    const obj: any = {};\n    if (message.matchedPolicy !== \"\") {\n      obj.matchedPolicy = message.matchedPolicy;\n    }\n    if (message.matchedScope !== \"\") {\n      obj.matchedScope = message.matchedScope;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_Meta_ActionMeta = {\n  fromJSON(object: any): CheckResourceSetResponse_Meta_ActionMeta {\n    return {\n      actions: isObject(object.actions)\n        ? Object.entries(object.actions).reduce<{\n            [key: string]: CheckResourceSetResponse_Meta_EffectMeta;\n          }>((acc, [key, value]) => {\n            acc[key] = CheckResourceSetResponse_Meta_EffectMeta.fromJSON(value);\n            return acc;\n          }, {})\n        : {},\n      effectiveDerivedRoles: globalThis.Array.isArray(\n        object?.effectiveDerivedRoles,\n      )\n        ? object.effectiveDerivedRoles.map((e: any) => globalThis.String(e))\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse_Meta_ActionMeta): unknown {\n    const obj: any = {};\n    if (message.actions) {\n      const entries = Object.entries(message.actions);\n      if (entries.length > 0) {\n        obj.actions = {};\n        entries.forEach(([k, v]) => {\n          obj.actions[k] = CheckResourceSetResponse_Meta_EffectMeta.toJSON(v);\n        });\n      }\n    }\n    if (message.effectiveDerivedRoles?.length) {\n      obj.effectiveDerivedRoles = message.effectiveDerivedRoles;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_Meta_ActionMeta_ActionsEntry = {\n  fromJSON(object: any): CheckResourceSetResponse_Meta_ActionMeta_ActionsEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value)\n        ? CheckResourceSetResponse_Meta_EffectMeta.fromJSON(object.value)\n        : undefined,\n    };\n  },\n\n  toJSON(\n    message: CheckResourceSetResponse_Meta_ActionMeta_ActionsEntry,\n  ): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = CheckResourceSetResponse_Meta_EffectMeta.toJSON(\n        message.value,\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_Meta_ResourceInstancesEntry = {\n  fromJSON(object: any): CheckResourceSetResponse_Meta_ResourceInstancesEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value)\n        ? CheckResourceSetResponse_Meta_ActionMeta.fromJSON(object.value)\n        : undefined,\n    };\n  },\n\n  toJSON(\n    message: CheckResourceSetResponse_Meta_ResourceInstancesEntry,\n  ): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = CheckResourceSetResponse_Meta_ActionMeta.toJSON(\n        message.value,\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceSetResponse_ResourceInstancesEntry = {\n  fromJSON(object: any): CheckResourceSetResponse_ResourceInstancesEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value)\n        ? CheckResourceSetResponse_ActionEffectMap.fromJSON(object.value)\n        : undefined,\n    };\n  },\n\n  toJSON(message: CheckResourceSetResponse_ResourceInstancesEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = CheckResourceSetResponse_ActionEffectMap.toJSON(\n        message.value,\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceBatchResponse = {\n  fromJSON(object: any): CheckResourceBatchResponse {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      results: globalThis.Array.isArray(object?.results)\n        ? object.results.map((e: any) =>\n            CheckResourceBatchResponse_ActionEffectMap.fromJSON(e),\n          )\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourceBatchResponse): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.results?.length) {\n      obj.results = message.results.map((e) =>\n        CheckResourceBatchResponse_ActionEffectMap.toJSON(e),\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceBatchResponse_ActionEffectMap = {\n  fromJSON(object: any): CheckResourceBatchResponse_ActionEffectMap {\n    return {\n      resourceId: isSet(object.resourceId)\n        ? globalThis.String(object.resourceId)\n        : \"\",\n      actions: isObject(object.actions)\n        ? Object.entries(object.actions).reduce<{ [key: string]: Effect }>(\n            (acc, [key, value]) => {\n              acc[key] = effectFromJSON(value);\n              return acc;\n            },\n            {},\n          )\n        : {},\n      validationErrors: globalThis.Array.isArray(object?.validationErrors)\n        ? object.validationErrors.map((e: any) => ValidationError.fromJSON(e))\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourceBatchResponse_ActionEffectMap): unknown {\n    const obj: any = {};\n    if (message.resourceId !== \"\") {\n      obj.resourceId = message.resourceId;\n    }\n    if (message.actions) {\n      const entries = Object.entries(message.actions);\n      if (entries.length > 0) {\n        obj.actions = {};\n        entries.forEach(([k, v]) => {\n          obj.actions[k] = effectToJSON(v);\n        });\n      }\n    }\n    if (message.validationErrors?.length) {\n      obj.validationErrors = message.validationErrors.map((e) =>\n        ValidationError.toJSON(e),\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourceBatchResponse_ActionEffectMap_ActionsEntry = {\n  fromJSON(\n    object: any,\n  ): CheckResourceBatchResponse_ActionEffectMap_ActionsEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value) ? effectFromJSON(object.value) : 0,\n    };\n  },\n\n  toJSON(\n    message: CheckResourceBatchResponse_ActionEffectMap_ActionsEntry,\n  ): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== 0) {\n      obj.value = effectToJSON(message.value);\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse = {\n  fromJSON(object: any): CheckResourcesResponse {\n    return {\n      requestId: isSet(object.requestId)\n        ? globalThis.String(object.requestId)\n        : \"\",\n      results: globalThis.Array.isArray(object?.results)\n        ? object.results.map((e: any) =>\n            CheckResourcesResponse_ResultEntry.fromJSON(e),\n          )\n        : [],\n      cerbosCallId: isSet(object.cerbosCallId)\n        ? globalThis.String(object.cerbosCallId)\n        : \"\",\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse): unknown {\n    const obj: any = {};\n    if (message.requestId !== \"\") {\n      obj.requestId = message.requestId;\n    }\n    if (message.results?.length) {\n      obj.results = message.results.map((e) =>\n        CheckResourcesResponse_ResultEntry.toJSON(e),\n      );\n    }\n    if (message.cerbosCallId !== \"\") {\n      obj.cerbosCallId = message.cerbosCallId;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry {\n    return {\n      resource: isSet(object.resource)\n        ? CheckResourcesResponse_ResultEntry_Resource.fromJSON(object.resource)\n        : undefined,\n      actions: isObject(object.actions)\n        ? Object.entries(object.actions).reduce<{ [key: string]: Effect }>(\n            (acc, [key, value]) => {\n              acc[key] = effectFromJSON(value);\n              return acc;\n            },\n            {},\n          )\n        : {},\n      validationErrors: globalThis.Array.isArray(object?.validationErrors)\n        ? object.validationErrors.map((e: any) => ValidationError.fromJSON(e))\n        : [],\n      meta: isSet(object.meta)\n        ? CheckResourcesResponse_ResultEntry_Meta.fromJSON(object.meta)\n        : undefined,\n      outputs: globalThis.Array.isArray(object?.outputs)\n        ? object.outputs.map((e: any) => OutputEntry.fromJSON(e))\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse_ResultEntry): unknown {\n    const obj: any = {};\n    if (message.resource !== undefined) {\n      obj.resource = CheckResourcesResponse_ResultEntry_Resource.toJSON(\n        message.resource,\n      );\n    }\n    if (message.actions) {\n      const entries = Object.entries(message.actions);\n      if (entries.length > 0) {\n        obj.actions = {};\n        entries.forEach(([k, v]) => {\n          obj.actions[k] = effectToJSON(v);\n        });\n      }\n    }\n    if (message.validationErrors?.length) {\n      obj.validationErrors = message.validationErrors.map((e) =>\n        ValidationError.toJSON(e),\n      );\n    }\n    if (message.meta !== undefined) {\n      obj.meta = CheckResourcesResponse_ResultEntry_Meta.toJSON(message.meta);\n    }\n    if (message.outputs?.length) {\n      obj.outputs = message.outputs.map((e) => OutputEntry.toJSON(e));\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry_Resource = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry_Resource {\n    return {\n      id: isSet(object.id) ? globalThis.String(object.id) : \"\",\n      kind: isSet(object.kind) ? globalThis.String(object.kind) : \"\",\n      policyVersion: isSet(object.policyVersion)\n        ? globalThis.String(object.policyVersion)\n        : \"\",\n      scope: isSet(object.scope) ? globalThis.String(object.scope) : \"\",\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse_ResultEntry_Resource): unknown {\n    const obj: any = {};\n    if (message.id !== \"\") {\n      obj.id = message.id;\n    }\n    if (message.kind !== \"\") {\n      obj.kind = message.kind;\n    }\n    if (message.policyVersion !== \"\") {\n      obj.policyVersion = message.policyVersion;\n    }\n    if (message.scope !== \"\") {\n      obj.scope = message.scope;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry_Meta = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry_Meta {\n    return {\n      actions: isObject(object.actions)\n        ? Object.entries(object.actions).reduce<{\n            [key: string]: CheckResourcesResponse_ResultEntry_Meta_EffectMeta;\n          }>((acc, [key, value]) => {\n            acc[key] =\n              CheckResourcesResponse_ResultEntry_Meta_EffectMeta.fromJSON(\n                value,\n              );\n            return acc;\n          }, {})\n        : {},\n      effectiveDerivedRoles: globalThis.Array.isArray(\n        object?.effectiveDerivedRoles,\n      )\n        ? object.effectiveDerivedRoles.map((e: any) => globalThis.String(e))\n        : [],\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse_ResultEntry_Meta): unknown {\n    const obj: any = {};\n    if (message.actions) {\n      const entries = Object.entries(message.actions);\n      if (entries.length > 0) {\n        obj.actions = {};\n        entries.forEach(([k, v]) => {\n          obj.actions[k] =\n            CheckResourcesResponse_ResultEntry_Meta_EffectMeta.toJSON(v);\n        });\n      }\n    }\n    if (message.effectiveDerivedRoles?.length) {\n      obj.effectiveDerivedRoles = message.effectiveDerivedRoles;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry_Meta_EffectMeta = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry_Meta_EffectMeta {\n    return {\n      matchedPolicy: isSet(object.matchedPolicy)\n        ? globalThis.String(object.matchedPolicy)\n        : \"\",\n      matchedScope: isSet(object.matchedScope)\n        ? globalThis.String(object.matchedScope)\n        : \"\",\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse_ResultEntry_Meta_EffectMeta): unknown {\n    const obj: any = {};\n    if (message.matchedPolicy !== \"\") {\n      obj.matchedPolicy = message.matchedPolicy;\n    }\n    if (message.matchedScope !== \"\") {\n      obj.matchedScope = message.matchedScope;\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry_Meta_ActionsEntry = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry_Meta_ActionsEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value)\n        ? CheckResourcesResponse_ResultEntry_Meta_EffectMeta.fromJSON(\n            object.value,\n          )\n        : undefined,\n    };\n  },\n\n  toJSON(\n    message: CheckResourcesResponse_ResultEntry_Meta_ActionsEntry,\n  ): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== undefined) {\n      obj.value = CheckResourcesResponse_ResultEntry_Meta_EffectMeta.toJSON(\n        message.value,\n      );\n    }\n    return obj;\n  },\n};\n\nexport const CheckResourcesResponse_ResultEntry_ActionsEntry = {\n  fromJSON(object: any): CheckResourcesResponse_ResultEntry_ActionsEntry {\n    return {\n      key: isSet(object.key) ? globalThis.String(object.key) : \"\",\n      value: isSet(object.value) ? effectFromJSON(object.value) : 0,\n    };\n  },\n\n  toJSON(message: CheckResourcesResponse_ResultEntry_ActionsEntry): unknown {\n    const obj: any = {};\n    if (message.key !== \"\") {\n      obj.key = message.key;\n    }\n    if (message.value !== 0) {\n      obj.value = effectToJSON(message.value);\n    }\n    return obj;\n  },\n};\n\nexport const ServerInfoResponse = {\n  fromJSON(object: any): ServerInfoResponse {\n    return {\n      version: isSet(object.version) ? globalThis.String(object.version) : \"\",\n      commit: isSet(object.commit) ? globalThis.String(object.commit) : \"\",\n      buildDate: isSet(object.buildDate)\n        ? globalThis.String(object.buildDate)\n        : \"\",\n    };\n  },\n\n  toJSON(message: ServerInfoResponse): unknown {\n    const obj: any = {};\n    if (message.version !== \"\") {\n      obj.version = message.version;\n    }\n    if (message.commit !== \"\") {\n      obj.commit = message.commit;\n    }\n    if (message.buildDate !== \"\") {\n      obj.buildDate = message.buildDate;\n    }\n    return obj;\n  },\n};\n\nfunction isObject(value: any): boolean {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n", "export interface Allocator {\n  memory: WebAssembly.Memory;\n  allocate: (length: number) => bigint;\n  deallocate: (offset: number, length: number) => void;\n}\n\nconst utf8Decoder = new TextDecoder(\"utf-8\", { fatal: true });\nconst utf8Encoder = new TextEncoder();\n\nexport class Slice {\n  public static from(allocator: Allocator, offsetAndLength: bigint): Slice {\n    return new Slice(\n      allocator,\n      Number(offsetAndLength >> BigInt(32)),\n      Number(offsetAndLength & BigInt(0xffffffff)),\n    );\n  }\n\n  public static ofJSON(allocator: Allocator, data: unknown): Slice {\n    const bytes = utf8Encoder.encode(JSON.stringify(data));\n\n    const slice = new Slice(\n      allocator,\n      Number(allocator.allocate(bytes.length)),\n      bytes.length,\n    );\n\n    try {\n      slice.copy(bytes);\n      return slice;\n    } catch (error) {\n      slice.deallocate();\n      throw error;\n    }\n  }\n\n  public readonly deallocate: () => void;\n  private readonly bytes: Uint8Array;\n\n  private constructor(\n    { memory, deallocate }: Allocator,\n    public readonly offset: number,\n    public readonly length: number,\n  ) {\n    this.deallocate = (): void => {\n      deallocate(offset, length);\n    };\n\n    this.bytes = new Uint8Array(memory.buffer, offset, length);\n  }\n\n  public text(): string {\n    return utf8Decoder.decode(this.bytes);\n  }\n\n  private copy(bytes: Uint8Array): void {\n    this.bytes.set(bytes);\n  }\n}\n", "import type { JWT, _RPC, _Request, _Response, _Service } from \"@cerbos/core\";\nimport { NotOK, Status } from \"@cerbos/core\";\n\nimport type {\n  BundleMetadata,\n  DecodeJWTPayload,\n  DecodedJWTPayload,\n  Options,\n  Source,\n} from \"./loader\";\nimport { CheckResourcesRequest } from \"./protobuf/cerbos/request/v1/request\";\nimport { CheckResourcesResponse } from \"./protobuf/cerbos/response/v1/response\";\nimport type { Allocator } from \"./slice\";\nimport { Slice } from \"./slice\";\n\ntype RPC = (offset: number, length: number) => bigint;\n\ninterface RPCs {\n  check: RPC;\n}\n\ninterface Exports extends WebAssembly.Exports, Allocator, RPCs {\n  metadata: () => bigint;\n  set_globals: (offset: number, length: number) => void;\n}\n\ninterface Implementation<Service extends _Service, RPC extends _RPC<Service>> {\n  method: keyof RPCs;\n  transformRequest: (\n    request: _Request<Service, RPC>,\n    decodeJWTPayload: DecodeJWTPayload,\n  ) => Promise<unknown>;\n  transformResponse: (response: unknown) => _Response<Service, RPC>;\n}\n\ntype Services = {\n  [Service in _Service]: {\n    [RPC in _RPC<Service>]: Implementation<Service, RPC> | undefined;\n  };\n};\n\nconst services: Services = {\n  admin: {\n    addOrUpdatePolicy: undefined,\n    addOrUpdateSchema: undefined,\n    deleteSchema: undefined,\n    disablePolicy: undefined,\n    enablePolicy: undefined,\n    getPolicy: undefined,\n    getSchema: undefined,\n    listPolicies: undefined,\n    listSchemas: undefined,\n    reloadStore: undefined,\n  },\n  cerbos: {\n    checkResources: {\n      method: \"check\",\n      transformRequest: async (request, decodeJWTPayload) => {\n        const transformedRequest = CheckResourcesRequest.toJSON(request) as {\n          auxData?: {\n            jwt?: unknown;\n          };\n        };\n\n        if (transformedRequest.auxData?.jwt) {\n          const jwt = transformedRequest.auxData.jwt as JWT;\n          if (!jwt.keySetId) {\n            delete jwt.keySetId;\n          }\n\n          (transformedRequest.auxData as { jwt: DecodedJWTPayload }).jwt =\n            await decodeJWTPayload(jwt);\n        }\n\n        return transformedRequest;\n      },\n      transformResponse: (response) =>\n        CheckResourcesResponse.fromJSON(response),\n    },\n    planResources: undefined,\n    serverInfo: undefined,\n  },\n};\n\nexport class Bundle {\n  public static async from(\n    source: Source,\n    {\n      decodeJWTPayload = cannotDecodeJWTPayload,\n      globals,\n      now = Date.now,\n    }: Options,\n  ): Promise<Bundle> {\n    if (typeof source === \"string\" || source instanceof URL) {\n      source = await download(source);\n    } else {\n      source = await source;\n    }\n\n    const etag =\n      source instanceof Response\n        ? source.headers.get(\"ETag\") ?? undefined\n        : undefined;\n\n    const exports = await instantiate(source, {\n      env: {\n        now: () => secondsSinceUnixEpoch(now()),\n      },\n    });\n\n    if (globals) {\n      const globalsSlice = Slice.ofJSON(exports, globals);\n\n      try {\n        exports.set_globals(globalsSlice.offset, globalsSlice.length);\n      } finally {\n        globalsSlice.deallocate();\n      }\n    }\n\n    return new Bundle(etag, exports, decodeJWTPayload);\n  }\n\n  private _metadata: BundleMetadata | undefined;\n\n  private constructor(\n    public readonly etag: string | undefined,\n    private readonly exports: Exports,\n    private readonly decodeJWTPayload: DecodeJWTPayload,\n  ) {}\n\n  public get metadata(): BundleMetadata {\n    if (!this._metadata) {\n      const { version, buildTimestamp, policies } = JSON.parse(\n        Slice.from(this.exports, this.exports.metadata()).text(),\n      ) as { version: string; buildTimestamp: number; policies: string[] };\n\n      this._metadata = {\n        commit: version,\n        builtAt: new Date(buildTimestamp * 1000),\n        policies,\n      };\n    }\n\n    return this._metadata;\n  }\n\n  public async perform<Service extends _Service, RPC extends _RPC<Service>>(\n    service: Service,\n    rpc: RPC,\n    request: _Request<Service, RPC>,\n  ): Promise<_Response<Service, RPC>> {\n    const implementation = services[service][rpc] as\n      | Implementation<typeof service, typeof rpc>\n      | undefined; // https://github.com/microsoft/TypeScript/issues/30581;\n\n    if (!implementation) {\n      throw new NotOK(\n        Status.UNIMPLEMENTED,\n        `${rpc} is not implemented in embedded policy decision points`,\n      );\n    }\n\n    const { method, transformRequest, transformResponse } = implementation;\n\n    const requestSlice = Slice.ofJSON(\n      this.exports,\n      await transformRequest(request, this.decodeJWTPayload),\n    );\n\n    let responseSlice: Slice;\n    try {\n      responseSlice = this.call(method, requestSlice);\n    } finally {\n      requestSlice.deallocate();\n    }\n\n    let responseText: string;\n    try {\n      responseText = responseSlice.text();\n    } finally {\n      responseSlice.deallocate();\n    }\n\n    try {\n      return transformResponse(JSON.parse(responseText));\n    } catch (_) {\n      throw NotOK.fromJSON(responseText);\n    }\n  }\n\n  private call(method: keyof RPCs, { offset, length }: Slice): Slice {\n    return Slice.from(this.exports, this.exports[method](offset, length));\n  }\n}\n\nfunction cannotDecodeJWTPayload(): never {\n  throw new Error(\n    \"To decode JWTs from auxiliary data, you must provide a `decodeJWTPayload` function\",\n  );\n}\n\nfunction secondsSinceUnixEpoch(date: Date | number): bigint {\n  const millisecondsSinceUnixEpoch =\n    date instanceof Date ? date.getTime() : date;\n\n  return BigInt(Math.floor(millisecondsSinceUnixEpoch / 1000));\n}\n\nexport async function download(\n  url: string | URL,\n  request?: RequestInit,\n): Promise<Response> {\n  try {\n    return await fetch(url, request);\n  } catch (error) {\n    const message = `Failed to download from ${url.toString()}`;\n    throw new Error(\n      error instanceof Error ? `${message}: ${error.message}` : message,\n      { cause: error },\n    );\n  }\n}\n\nasync function instantiate(\n  source: ArrayBufferView | ArrayBuffer | Response,\n  imports: WebAssembly.Imports,\n): Promise<Exports> {\n  if (source instanceof Response) {\n    return await instantiateStreaming(source, imports);\n  }\n\n  return instantiated(await WebAssembly.instantiate(source, imports));\n}\n\nasync function instantiateStreaming(\n  response: Response,\n  imports: WebAssembly.Imports,\n): Promise<Exports> {\n  if (!response.ok) {\n    throw new Error(\n      `Failed to download from ${response.url}: HTTP ${response.status}`,\n    );\n  }\n\n  return instantiated(\n    await WebAssembly.instantiateStreaming(response, imports),\n  );\n}\n\nfunction instantiated({\n  instance: { exports },\n}: WebAssembly.WebAssemblyInstantiatedSource): Exports {\n  return exports as Exports;\n}\n", "export function constrainAutoUpdateInterval(\n  interval: number | undefined,\n): number {\n  return Math.max(interval ?? 60000, 10000);\n}\n", "import type { JWT, Value, _Transport } from \"@cerbos/core\";\nimport { _setErrorNameAndStack } from \"@cerbos/core\";\n\nimport { Bundle, download } from \"./bundle\";\nimport { constrainAutoUpdateInterval } from \"./interval\";\n\ntype LoadResult =\n  | {\n      bundle: Bundle;\n      error?: undefined;\n    }\n  | {\n      bundle?: undefined;\n      error: LoadError;\n    };\n\nasync function resolve(\n  result: LoadResult | Promise<LoadResult>,\n): Promise<Bundle> {\n  const { bundle, error } = await result;\n\n  if (error) {\n    throw error;\n  }\n\n  return bundle;\n}\n\n/**\n * Error thrown when a {@link Loader} fails to load an embedded policy decision point bundle.\n *\n * @public\n */\nexport class LoadError extends Error {\n  public constructor(\n    /**\n     * The error that caused loading the embedded policy decision point bundle to fail.\n     */\n    public override readonly cause: unknown,\n  ) {\n    const message = \"Failed to load embedded policy decision point bundle\";\n\n    super(cause instanceof Error ? `${message}: ${cause.message}` : message, {\n      cause,\n    });\n\n    _setErrorNameAndStack(this);\n  }\n}\n\n/**\n * WebAssembly binary code of an embedded policy decision point bundle, or a URL or HTTP response from which to stream it.\n *\n * @public\n */\nexport type Source =\n  | string\n  | URL\n  | ArrayBufferView\n  | ArrayBuffer\n  | Response\n  | Promise<ArrayBufferView | ArrayBuffer | Response>;\n\n/**\n * Options for creating a new {@link Embedded} client or {@link Loader}.\n *\n * @public\n */\nexport interface Options {\n  /**\n   * A function to verify and decode JWTs passed as auxiliary data, returning the JWT payload.\n   *\n   * @defaultValue (throw an error when a JWT is passed)\n   */\n  decodeJWTPayload?: DecodeJWTPayload | undefined;\n\n  /**\n   * {@link https://docs.cerbos.dev/cerbos/latest/configuration/engine#globals | Global variables} to pass environment-specific information to policy conditions.\n   *\n   * @defaultValue `{}`\n   */\n  globals?: Record<string, Value> | undefined;\n\n  /**\n   * A function returning the current time, to be used when evaluating policy conditions.\n   *\n   * @remarks\n   * The function can either return a {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date | Date} or a number of milliseconds elapsed since the Unix epoch.\n   *\n   * @defaultValue `Date.now`\n   */\n  now?: (() => Date | number) | undefined;\n\n  /**\n   * A callback to invoke when the embedded policy decision point bundle has been loaded.\n   *\n   * @defaultValue (no-op)\n   */\n  onLoad?: ((metadata: BundleMetadata) => void) | undefined;\n\n  /**\n   * A callback to invoke when the embedded policy decision point bundle has failed to load.\n   *\n   * @defaultValue (no-op)\n   */\n  onError?: ((error: LoadError) => void) | undefined;\n}\n\n/**\n * A function to verify and decode a JWT, returning its payload.\n *\n * @example\n * Using {@link https://www.npmjs.com/package/jose | jose}:\n *\n * ```typescript\n * import type { DecodeJWTPayload, DecodedJWTPayload } from \"@cerbos/embedded\";\n * import { JWTVerifyGetKey, createRemoteJWKSet, jwtVerify } from \"jose\";\n *\n * interface KeySet {\n *   issuer: string;\n *   jwks: JWTVerifyGetKey;\n * }\n *\n * const keySets: Record<string, KeySet> = {\n *   auth0: {\n *     issuer: \"https://example.auth0.com/\",\n *     jwks: createRemoteJWKSet(\n *       new URL(\"https://example.auth0.com/.well-known/jwks.json\")\n *     ),\n *   },\n *   okta: {\n *     issuer: \"https://example.okta.com/oauth2/default\",\n *     jwks: createRemoteJWKSet(\n *       new URL(\"https://example.okta.com/oauth2/default/v1/keys\")\n *     ),\n *   },\n * };\n *\n * const decodeJWTPayload: DecodeJWTPayload = async ({ token, keySetId }) => {\n *   if (!keySetId) {\n *     throw new Error(\"Missing key set ID\");\n *   }\n *\n *   const keySet = keySets[keySetId];\n *\n *   if (!keySet) {\n *     throw new Error(`Unknown key set ID \"${keySetId}\"`);\n *   }\n *\n *   const { issuer, jwks } = keySet;\n *\n *   const { payload } = await jwtVerify(token, jwks, {\n *     issuer,\n *     audience: \"https://example.com/\",\n *   });\n *\n *   return payload as DecodedJWTPayload;\n * };\n * ```\n *\n * @public\n */\nexport type DecodeJWTPayload = (\n  jwt: JWT,\n) => DecodedJWTPayload | Promise<DecodedJWTPayload>;\n\n/**\n * The decoded payload of a JWT, containing the claims.\n *\n * @public\n */\nexport type DecodedJWTPayload = Record<string, Value>;\n\n/**\n * Metadata describing an embedded policy decision point bundle.\n *\n * @public\n */\nexport interface BundleMetadata {\n  /**\n   * The commit SHA from which the bundle was built.\n   */\n  commit: string;\n\n  /**\n   * The time at which the bundle was built.\n   */\n  builtAt: Date;\n\n  /**\n   * The IDs of the policies included in the bundle.\n   */\n  policies: string[];\n}\n\n/**\n * Loads an embedded policy decision point bundle from a given source.\n *\n * @public\n */\nexport class Loader {\n  /** @internal */\n  public _active: LoadResult | Promise<LoadResult>;\n\n  /**\n   * Load an embedded policy decision point (PDP) bundle from a given source.\n   *\n   * @param source - WebAssembly binary code of an embedded PDP bundle, or a URL or HTTP response from which to stream it.\n   * @param options - additional settings.\n   *\n   * @remarks\n   * Bundle download URLs are available in the \"Embedded\" section of the \"Decision points\" page of your Cerbos Hub workspace.\n   *\n   * The bundle will be loaded in the background when the loader is created.\n   * If loading fails, then the first request from the client using the loader will throw an error.\n   * To detect failure to load the bundle before making any requests, provide an {@link Options.onError} callback or await the {@link Loader.active} method.\n   *\n   * @example\n   * Fetch an embedded PDP bundle via HTTP in a {@link https://caniuse.com/wasm | supported browser} or Node.js 18.1+:\n   *\n   * ```typescript\n   * const cerbos = new Loader(\"https://lite.cerbos.cloud/bundle?workspace=...&label=...\");\n   * ```\n   *\n   * @example\n   * Read an embedded PDP bundle from disk in Node.js:\n   *\n   * ```typescript\n   * import { readFile } from \"fs/promises\";\n   *\n   * const cerbos = new Loader(readFile(\"policies.wasm\"));\n   * ```\n   */\n  public constructor(\n    source: Source,\n    private readonly options: Options = {},\n  ) {\n    this._active = this._load(source, true);\n  }\n\n  /**\n   * Resolves to the metadata of the loaded bundle, or rejects with the error that was encountered when loading the bundle.\n   */\n  public async active(): Promise<BundleMetadata> {\n    return (await resolve(this._active)).metadata;\n  }\n\n  /** @internal */\n  public readonly _transport: _Transport = async (service, rpc, request) =>\n    await (await resolve(this._active)).perform(service, rpc, request);\n\n  /** @internal */\n  protected async _load(source: Source, initial = false): Promise<LoadResult> {\n    try {\n      const bundle = await Bundle.from(source, this.options);\n      this._onLoad(bundle, initial);\n      return { bundle };\n    } catch (cause) {\n      const error = new LoadError(cause);\n      this._onError(error);\n      return { error };\n    }\n  }\n\n  /** @internal */\n  protected _onLoad(bundle: Bundle, _initial: boolean): void {\n    this.options.onLoad?.(bundle.metadata);\n  }\n\n  /** @internal */\n  protected _onError(error: LoadError): void {\n    this.options.onError?.(error);\n  }\n}\n\nconst notModified = new Error(\"HTTP 304\");\n\n/**\n * Options for creating a new {@link AutoUpdatingLoader}.\n *\n * @public\n */\nexport interface AutoUpdateOptions extends Options {\n  /**\n   * Whether to activate updated embedded policy decision point bundles as soon as they are downloaded.\n   *\n   * @remarks\n   * If `false`, new bundles will be downloaded automatically but not used to evaluate policy decisions until you call {@link AutoUpdatingLoader.activate}.\n   * This might be useful if you want to activate updates only on page transitions to avoid layout shifts in your application.\n   *\n   * To detect whether an update is available to activate, provide an {@link Options.onLoad} callback or check the {@link AutoUpdatingLoader.pending} property.\n   *\n   * @defaultValue `true`\n   */\n  activateOnLoad?: boolean;\n\n  /**\n   * The delay (in milliseconds) between successive requests to check for new embedded policy decision point bundles.\n   *\n   * @remarks\n   * The interval will be increased to the minimum of 10 seconds if a smaller value is specified.\n   *\n   * @defaultValue `60000` (1 minute)\n   */\n  interval?: number;\n}\n\n/**\n * Loads an embedded policy decision point bundle from a given URL, and polls for updates.\n *\n * @public\n */\nexport class AutoUpdatingLoader extends Loader {\n  private readonly activateOnLoad: boolean;\n  private readonly interval: number;\n  private _pending: Bundle | undefined;\n  private etag: string | undefined;\n  private running = true;\n  private abortController?: AbortController;\n  private timeout?: NodeJS.Timeout;\n\n  /**\n   * Load an embedded policy decision point bundle from a given URL.\n   *\n   * @param url - URL from which to stream bundles.\n   * @param options - additional settings.\n   *\n   * @remarks\n   * Bundle download URLs are available in the \"Embedded\" section of the \"Decision points\" page of your Cerbos Hub workspace.\n   *\n   * The bundle will be loaded in the background when the loader is created.\n   * If initial loading fails, then the first request from the client using the loader will throw an error.\n   * To detect failure to load the bundle before making any requests, provide an {@link Options.onError} callback or await the {@link Loader.active} method.\n   *\n   * Failure to load updates after the initial load will not cause requests from the client to throw errors,\n   * but errors will be passed to the {@link Options.onError} callback.\n   */\n  public constructor(\n    private readonly url: string | URL,\n    { activateOnLoad = true, interval, ...options }: AutoUpdateOptions = {},\n  ) {\n    super(url, options);\n    this.activateOnLoad = activateOnLoad;\n    this.interval = constrainAutoUpdateInterval(interval);\n    this.scheduleUpdate();\n  }\n\n  /**\n   * The metadata of a new embedded policy decision point bundle that has been downloaded but is not yet being used to evaluate policy decisions.\n   *\n   * @remarks\n   * Only set if {@link AutoUpdateOptions.activateOnLoad} is `false` and an update has been downloaded.\n   *\n   * Use {@link AutoUpdatingLoader.activate} to start using the pending bundle to evaluate policy decisions.\n   */\n  public get pending(): BundleMetadata | undefined {\n    return this._pending?.metadata;\n  }\n\n  /**\n   * Promote the {@link AutoUpdatingLoader.pending | pending} embedded policy decision point bundle (if any) to active, so that it is used to evaluate policy decisions.\n   *\n   * @remarks\n   * This method is a no-op if an update has not been downloaded, or if {@link AutoUpdateOptions.activateOnLoad} is `true` (the default).\n   */\n  public activate(): void {\n    if (this._pending) {\n      this._active = { bundle: this._pending };\n      this._pending = undefined;\n    }\n  }\n\n  /**\n   * Stops polling for new embedded policy decision point bundles, and aborts any in-flight updates.\n   */\n  public stop(): void {\n    this.running = false;\n    this.abortController?.abort();\n\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  /** @internal */\n  protected override _onLoad(bundle: Bundle, initial: boolean): void {\n    this.etag = bundle.etag;\n\n    if (!initial) {\n      this._pending = bundle;\n\n      if (this.activateOnLoad) {\n        this.activate();\n      }\n    }\n\n    super._onLoad(bundle, initial);\n  }\n\n  /** @internal */\n  protected override _onError(error: LoadError): void {\n    if (!this.suppressError(error.cause)) {\n      super._onError(error);\n    }\n  }\n\n  private scheduleUpdate(): void {\n    if (!this.running) {\n      return;\n    }\n\n    if (this.timeout?.refresh) {\n      this.timeout.refresh();\n    } else {\n      this.timeout = setTimeout(() => {\n        void this.update();\n      }, this.interval);\n    }\n  }\n\n  private async update(): Promise<void> {\n    this.abortController?.abort();\n    this.abortController = new AbortController();\n    await this._load(this.download(this.abortController.signal));\n    this.scheduleUpdate();\n  }\n\n  private async download(signal: AbortSignal): Promise<Response> {\n    const request: RequestInit = { signal };\n\n    if (this.etag) {\n      request.headers = { \"If-None-Match\": this.etag };\n    }\n\n    const response = await download(this.url, request);\n\n    if (response.status === 304) {\n      throw notModified;\n    }\n\n    return response;\n  }\n\n  private suppressError(cause: unknown): boolean {\n    return cause === notModified || (isAbortError(cause) && !this.running);\n  }\n}\n\nfunction isAbortError(error: unknown): error is DOMException {\n  return error instanceof DOMException && error.name === \"AbortError\";\n}\n", "import { Client } from \"@cerbos/core\";\n\nimport type { Options, Source } from \"./loader\";\nimport { Loader } from \"./loader\";\n\n/**\n * A client for interacting with an embedded Cerbos policy decision point (PDP).\n *\n * @remarks\n * Embedded PDP bundles are WebAssembly modules downloaded from {@link https://www.cerbos.dev/product-cerbos-hub | Cerbos Hub}.\n * Bundle download URLs are available in the \"Embedded\" section of the \"Decision points\" page of your Cerbos Hub workspace.\n *\n * See {@link @cerbos/core#Client | the parent class} for available methods.\n *\n * @public\n */\nexport class Embedded extends Client {\n  /**\n   * The {@link Loader} used to load the embedded policy decision point bundle.\n   */\n  public readonly loader: Loader;\n\n  /**\n   * Create a client for interacting with an embedded Cerbos policy decision point (PDP), using a specified {@link Loader} to load the embedded PDP bundle.\n   *\n   * @remarks\n   * Bundle download URLs are available in the \"Embedded\" section of the \"Decision points\" page of your Cerbos Hub workspace.\n   *\n   * @example\n   * Fetch an embedded PDP bundle via HTTP in a {@link https://caniuse.com/wasm | supported browser} or Node.js 18.1+,\n   * and {@link AutoUpdatingLoader | automatically update} the bundle when newer versions become available:\n   *\n   * ```typescript\n   * const loader = new AutoUpdatingLoader(\"https://lite.cerbos.cloud/bundle?workspace=...&label=...\");\n   * const cerbos = new Embedded(loader);\n   * ```\n   */\n  public constructor(loader: Loader);\n\n  /**\n   * Create a client for interacting with an embedded Cerbos policy decision point (PDP), using the default {@link Loader} to load the embedded PDP bundle.\n   *\n   * @param source - WebAssembly binary code of an embedded PDP bundle, or a URL or HTTP response from which to stream it.\n   * @param options - additional settings.\n   *\n   * @remarks\n   * This is equivalent to `new Embedded(new Loader(source, options))`.\n   *\n   * Bundle download URLs are available in the \"Embedded\" section of the \"Decision points\" page of your Cerbos Hub workspace.\n   *\n   * @example\n   * Fetch an embedded PDP bundle via HTTP in a {@link https://caniuse.com/wasm | supported browser} or Node.js 18.1+:\n   *\n   * ```typescript\n   * const cerbos = new Embedded(\"https://lite.cerbos.cloud/bundle?workspace=...&label=...\");\n   * ```\n   */\n  public constructor(source: Source, options?: Options);\n\n  public constructor(loaderOrSource: Loader | Source, options?: Options) {\n    const loader =\n      loaderOrSource instanceof Loader\n        ? loaderOrSource\n        : new Loader(loaderOrSource, options);\n\n    super(loader._transport, {});\n    this.loader = loader;\n  }\n}\n", "/**\n * Client library for interacting with embedded Cerbos policy decision points generated by {@link https://www.cerbos.dev/product-cerbos-hub | Cerbos Hub} from server-side Node.js and browser-based applications.\n *\n * @packageDocumentation\n */\n\nexport * from \"./client\";\nexport * from \"./loader\";\n"],
  "mappings": "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",
  "names": ["Effect", "PlanResourcesFilter_Kind", "ValidationError_Source", "resource", "Effect", "PlanKind", "ValidationErrorSource", "URL", "Status", "code", "details", "PlanResourcesFilter_Kind", "Effect", "ValidationError_Source", "exports"]
}
